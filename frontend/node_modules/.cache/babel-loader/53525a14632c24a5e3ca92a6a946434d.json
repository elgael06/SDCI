{"ast":null,"code":"import _regeneratorRuntime from\"/home/gael/development/base-back-end/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _objectSpread from\"/home/gael/development/base-back-end/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _asyncToGenerator from\"/home/gael/development/base-back-end/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"/home/gael/development/base-back-end/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import{IonButton,IonCard,IonCardContent,IonCardHeader,IonCardTitle,IonContent,IonImg,IonLoading,IonPage,IonProgressBar}from\"@ionic/react\";import{FormControl,Form,Alert}from'react-bootstrap';import'./styles.css';import imagen from'./assets/mar_1.jpg';import{useState}from\"react\";import{login}from\"../../api/login\";import{useDispatch}from\"react-redux\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var initialStateForm={email:'',password:'',statusPass:false,statusRes:false,statusAlert:false,messageAlert:'este es un mensaje',loading:false};var Login=function Login(){var _useState=useState(initialStateForm),_useState2=_slicedToArray(_useState,2),state=_useState2[0],setState=_useState2[1];var dispatch=useDispatch();var submitLogin=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(e){var data;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:e.preventDefault();console.log(state);setState(_objectSpread(_objectSpread({},state),{},{loading:true}));_context.next=5;return login(state.email,state.password);case 5:data=_context.sent;// alert(data.message)\nsetState(_objectSpread(_objectSpread({},state),{},{statusRes:data.status,statusAlert:true,messageAlert:data.message}));if(data.status){dispatch({type:'ADD_SESION',value:_objectSpread(_objectSpread({},data.sesion),{},{status:data.status})});}setTimeout(function(){setState(_objectSpread(_objectSpread({},state),{},{statusAlert:false,messageAlert:'',loading:false}));},2000);case 9:case\"end\":return _context.stop();}}},_callee);}));return function submitLogin(_x){return _ref.apply(this,arguments);};}();return/*#__PURE__*/_jsx(IonPage,{children:/*#__PURE__*/_jsxs(IonContent,{children:[/*#__PURE__*/_jsx(\"div\",{id:\"container_div\",children:/*#__PURE__*/_jsxs(IonCard,{id:\"card_login\",children:[/*#__PURE__*/_jsx(IonImg,{src:imagen}),/*#__PURE__*/_jsxs(IonCardHeader,{children:[\" \",/*#__PURE__*/_jsx(IonCardTitle,{children:\"Ingresar\"})]}),/*#__PURE__*/_jsx(IonCardContent,{children:/*#__PURE__*/_jsxs(Form,{onSubmit:submitLogin,children:[/*#__PURE__*/_jsxs(Form.Group,{children:[/*#__PURE__*/_jsx(Form.Label,{children:\"Correo\"}),/*#__PURE__*/_jsx(FormControl,{required:true,minLength:8,type:\"email\",placeholder:\"usuario@dominio\",value:state.email,onChange:function onChange(e){return setState(_objectSpread(_objectSpread({},state),{},{email:e.target.value}));}})]}),/*#__PURE__*/_jsxs(Form.Group,{children:[/*#__PURE__*/_jsx(Form.Label,{children:\"Contrase\\xF1a\"}),/*#__PURE__*/_jsx(FormControl,{required:true,type:state.statusPass?'':'password',placeholder:\"contrase\\xF1a\",minLength:6,value:state.password,onChange:function onChange(e){return setState(_objectSpread(_objectSpread({},state),{},{password:e.target.value}));}})]}),/*#__PURE__*/_jsxs(Form.Check,{children:[/*#__PURE__*/_jsx(Form.Check.Input,{checked:state.statusPass,onChange:function onChange(){return setState(_objectSpread(_objectSpread({},state),{},{statusPass:!state.statusPass}));}}),/*#__PURE__*/_jsx(Form.Check.Label,{children:\"mostrar contrase\\xF1a\"})]}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(IonButton,{disabled:state.loading,fill:\"solid\",type:\"submit\",expand:\"block\",children:state.loading?/*#__PURE__*/_jsx(IonProgressBar,{value:0.25,buffer:0.5,type:\"indeterminate\"}):'Entrar'})]})})]})}),state.statusAlert&&/*#__PURE__*/_jsx(Alert,{style:{position:'fixed',top:10,left:20},variant:state.statusRes?'info':'danger',children:state.messageAlert}),/*#__PURE__*/_jsx(IonLoading,{cssClass:\"my-custom-class\",isOpen:state.loading,onDidDismiss:function onDidDismiss(){return setState(_objectSpread(_objectSpread({},state),{},{loading:false}));},message:'cargando...'})]})});};export default Login;","map":{"version":3,"sources":["/home/gael/development/base-back-end/frontend/src/pages/Login/Login.tsx"],"names":["IonButton","IonCard","IonCardContent","IonCardHeader","IonCardTitle","IonContent","IonImg","IonLoading","IonPage","IonProgressBar","FormControl","Form","Alert","imagen","useState","login","useDispatch","initialStateForm","email","password","statusPass","statusRes","statusAlert","messageAlert","loading","Login","state","setState","dispatch","submitLogin","e","preventDefault","console","log","data","status","message","type","value","sesion","setTimeout","target","position","top","left"],"mappings":"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","sourcesContent":["import { IonButton, IonCard, IonCardContent, IonCardHeader, IonCardTitle, IonContent, IonImg, IonLoading, IonPage, IonProgressBar } from \"@ionic/react\"\nimport { FormControl, Form, Alert } from 'react-bootstrap';\nimport './styles.css';\n\nimport imagen from './assets/mar_1.jpg';\nimport { useState } from \"react\";\nimport { login } from \"../../api/login\";\nimport { useDispatch } from \"react-redux\";\n\ntype formType = {\n    email: string,\n    password: string,\n    statusPass: boolean,\n    statusRes:boolean,\n    statusAlert: boolean,\n    messageAlert: string,\n    loading:boolean\n}\nconst initialStateForm: formType = {\n    email: '',\n    password: '',\n    statusPass: false,\n    statusRes:false,\n    statusAlert: false,\n    messageAlert: 'este es un mensaje',\n    loading:false\n}\n\nconst Login = () => {\n    const [state, setState] = useState<formType>(initialStateForm);\n    const dispatch = useDispatch();\n\n    const submitLogin = async (e:any) => {\n        e.preventDefault();\n        console.log(state);\n        setState({\n            ...state,\n            loading: true,\n        });\n        const data = await login(state.email, state.password);\n        // alert(data.message)\n        setState({\n            ...state,\n            statusRes:data.status,\n            statusAlert: true,\n            messageAlert: data.message,\n        })\n        if (data.status) {                \n            dispatch({ type: 'ADD_SESION', value: { ...data.sesion, status: data.status } })\n        }\n        setTimeout(() => {\n            setState({\n                ...state,\n                statusAlert: false,\n                messageAlert: '',\n                loading:false\n            });\n        }, 2000)\n        \n    }\n\n    return <IonPage>\n        <IonContent >\n            <div id='container_div'>\n                <IonCard id='card_login' >\n                    <IonImg   src={imagen}  />\n                    <IonCardHeader > <IonCardTitle>Ingresar</IonCardTitle></IonCardHeader>\n\n                    <IonCardContent >\n                        <Form onSubmit={submitLogin}>\n                            <Form.Group>\n                                <Form.Label>Correo</Form.Label>\n                                <FormControl\n                                    required\n                                    minLength={8}\n                                    type='email'\n                                    placeholder='usuario@dominio'\n                                    value={state.email}\n                                    onChange={e => setState({ ...state, email: e.target.value })}\n                                />\n                            </Form.Group>\n\n                            <Form.Group>\n                                <Form.Label>Contraseña</Form.Label>\n                                <FormControl\n                                    required\n                                    type={state.statusPass ?'':'password'}\n                                    placeholder='contraseña'\n                                    minLength={6}\n                                    value={state.password}\n                                    onChange={e => setState({ ...state, password: e.target.value })}\n                                />\n                            </Form.Group>\n\n                            <Form.Check >\n                                <Form.Check.Input\n                                    checked={state.statusPass}\n                                    onChange={() => setState({ ...state, statusPass: !state.statusPass })}\n                                />\n                                <Form.Check.Label>mostrar contraseña</Form.Check.Label>\n                            </Form.Check>\n\n                            <br/>\n                            <IonButton disabled={state.loading} fill='solid' type='submit' expand='block' >\n                                { state.loading ? <IonProgressBar value={0.25} buffer={0.5} type=\"indeterminate\" /> :'Entrar'}\n                            </IonButton>\n\n                        </Form>\n                    </IonCardContent>\n                </IonCard>\n            </div>\n                {state.statusAlert && <Alert style={{position:'fixed',top:10,left:20}} variant={state.statusRes ? 'info' :'danger'}>\n                    { state.messageAlert}\n            </Alert>}\n            <IonLoading\n                cssClass='my-custom-class'\n                isOpen={state.loading}\n                onDidDismiss={() => setState({\n                    ...state,\n                    loading: false,\n                })}\n                message={'cargando...'}\n            />\n        </IonContent>\n    </IonPage>\n}\n\nexport default Login;"]},"metadata":{},"sourceType":"module"}