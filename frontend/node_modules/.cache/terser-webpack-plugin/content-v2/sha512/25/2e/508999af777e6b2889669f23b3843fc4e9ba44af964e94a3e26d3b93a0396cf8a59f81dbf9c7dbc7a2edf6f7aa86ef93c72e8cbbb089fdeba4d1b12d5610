{"code":"(this[\"webpackJsonpfront-lamar\"]=this[\"webpackJsonpfront-lamar\"]||[]).push([[62],{208:function(e,t,i){\"use strict\";i.r(t),i.d(t,\"pwa_camera\",(function(){return s}));var n=i(54),o=function(e,t,i,n){return new(i||(i=Promise))((function(o,r){function a(e){try{c(n.next(e))}catch(t){r(t)}}function s(e){try{c(n.throw(e))}catch(t){r(t)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(a,s)}c((n=n.apply(e,t||[])).next())}))},r=function(e,t){var i,n,o,r,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return r={next:s(0),throw:s(1),return:s(2)},\"function\"===typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function s(r){return function(s){return function(r){if(i)throw new TypeError(\"Generator is already executing.\");for(;a;)try{if(i=1,n&&(o=2&r[0]?n.return:r[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,r[1])).done)return o;switch(n=0,o&&(r=[2&r[0],o.value]),r[0]){case 0:case 1:o=r;break;case 4:return a.label++,{value:r[1],done:!1};case 5:a.label++,n=r[1],r=[0];continue;case 7:r=a.ops.pop(),a.trys.pop();continue;default:if(!(o=(o=a.trys).length>0&&o[o.length-1])&&(6===r[0]||2===r[0])){a=0;continue}if(3===r[0]&&(!o||r[1]>o[0]&&r[1]<o[3])){a.label=r[1];break}if(6===r[0]&&a.label<o[1]){a.label=o[1],o=r;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(r);break}o[2]&&a.ops.pop(),a.trys.pop();continue}r=t.call(e,a)}catch(s){r=[6,s],n=0}finally{i=o=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,s])}}},a=window.ImageCapture;\"undefined\"===typeof a&&(a=function(){function e(e){var t=this;if(\"video\"!==e.kind)throw new DOMException(\"NotSupportedError\");this._videoStreamTrack=e,\"readyState\"in this._videoStreamTrack||(this._videoStreamTrack.readyState=\"live\"),this._previewStream=new MediaStream([e]),this.videoElement=document.createElement(\"video\"),this.videoElementPlaying=new Promise((function(e){t.videoElement.addEventListener(\"playing\",e)})),HTMLMediaElement?this.videoElement.srcObject=this._previewStream:this.videoElement.src=URL.createObjectURL(this._previewStream),this.videoElement.muted=!0,this.videoElement.setAttribute(\"playsinline\",\"\"),this.videoElement.play(),this.canvasElement=document.createElement(\"canvas\"),this.canvas2dContext=this.canvasElement.getContext(\"2d\")}return Object.defineProperty(e.prototype,\"videoStreamTrack\",{get:function(){return this._videoStreamTrack},enumerable:!0,configurable:!0}),e.prototype.getPhotoCapabilities=function(){return new Promise((function(e,t){var i={current:0,min:0,max:0};e({exposureCompensation:i,exposureMode:\"none\",fillLightMode:[\"none\"],focusMode:\"none\",imageHeight:i,imageWidth:i,iso:i,redEyeReduction:!1,whiteBalanceMode:\"none\",zoom:i}),t(new DOMException(\"OperationError\"))}))},e.prototype.setOptions=function(e){return void 0===e&&(e={}),new Promise((function(e,t){}))},e.prototype.takePhoto=function(){var e=this;return new Promise((function(t,i){if(\"live\"!==e._videoStreamTrack.readyState)return i(new DOMException(\"InvalidStateError\"));e.videoElementPlaying.then((function(){try{e.canvasElement.width=e.videoElement.videoWidth,e.canvasElement.height=e.videoElement.videoHeight,e.canvas2dContext.drawImage(e.videoElement,0,0),e.canvasElement.toBlob(t)}catch(n){i(new DOMException(\"UnknownError\"))}}))}))},e.prototype.grabFrame=function(){var e=this;return new Promise((function(t,i){if(\"live\"!==e._videoStreamTrack.readyState)return i(new DOMException(\"InvalidStateError\"));e.videoElementPlaying.then((function(){try{e.canvasElement.width=e.videoElement.videoWidth,e.canvasElement.height=e.videoElement.videoHeight,e.canvas2dContext.drawImage(e.videoElement,0,0),t(window.createImageBitmap(e.canvasElement))}catch(n){i(new DOMException(\"UnknownError\"))}}))}))},e}()),window.ImageCapture=a;var s=function(){function e(e){var t=this;Object(n.h)(this,e),this.facingMode=\"user\",this.noDevicesText=\"No camera found\",this.noDevicesButtonText=\"Choose image\",this.showShutterOverlay=!1,this.flashIndex=0,this.hasCamera=null,this.rotation=0,this.deviceError=null,this.hasMultipleCameras=!1,this.hasFlash=!1,this.flashModes=[],this.flashMode=\"off\",this.handlePickFile=function(e){},this.handleShutterClick=function(e){console.log(),t.capture()},this.handleRotateClick=function(e){t.rotate()},this.handleClose=function(e){t.handlePhoto&&t.handlePhoto(null)},this.handleFlashClick=function(e){t.cycleFlash()},this.handleCancelPhoto=function(e){var i=t.stream&&t.stream.getTracks()[0],n=i&&i.getConstraints();t.photo=null,n?t.initCamera({video:{facingMode:n.facingMode}}):t.initCamera()},this.handleAcceptPhoto=function(e){t.handlePhoto&&t.handlePhoto(t.photo)},this.handleFileInputChange=function(e){return o(t,void 0,void 0,(function(){var t,i,n;return r(this,(function(o){switch(o.label){case 0:t=e.target,i=t.files[0],o.label=1;case 1:return o.trys.push([1,3,,4]),[4,this.getOrientation(i)];case 2:return n=o.sent(),console.log(\"Got orientation\",n),this.photoOrientation=n,[3,4];case 3:return o.sent(),[3,4];case 4:return this.handlePhoto&&this.handlePhoto(i),[2]}}))}))},this.handleVideoMetadata=function(e){console.log(\"Video metadata\",e)},this.isServer=Object(n.e)(this,\"isServer\")}return e.prototype.componentDidLoad=function(){return o(this,void 0,void 0,(function(){return r(this,(function(e){switch(e.label){case 0:return this.isServer?[2]:(this.defaultConstraints={video:{facingMode:this.facingMode}},[4,this.queryDevices()]);case 1:return e.sent(),[4,this.initCamera()];case 2:return e.sent(),[2]}}))}))},e.prototype.componentDidUnload=function(){this.stopStream(),this.photoSrc&&URL.revokeObjectURL(this.photoSrc)},e.prototype.hasImageCapture=function(){return\"ImageCapture\"in window},e.prototype.queryDevices=function(){return o(this,void 0,void 0,(function(){var e,t,i;return r(this,(function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),[4,navigator.mediaDevices.enumerateDevices()];case 1:return e=n.sent(),t=e.filter((function(e){return\"videoinput\"==e.kind})),this.hasCamera=!!t.length,this.hasMultipleCameras=t.length>1,[3,3];case 2:return i=n.sent(),this.deviceError=i,[3,3];case 3:return[2]}}))}))},e.prototype.initCamera=function(e){return o(this,void 0,void 0,(function(){var t,i;return r(this,(function(n){switch(n.label){case 0:e||(e=this.defaultConstraints),n.label=1;case 1:return n.trys.push([1,3,,4]),[4,navigator.mediaDevices.getUserMedia(Object.assign({video:!0,audio:!1},e))];case 2:return t=n.sent(),this.initStream(t),[3,4];case 3:return i=n.sent(),this.deviceError=i,this.handleNoDeviceError&&this.handleNoDeviceError(i),[3,4];case 4:return[2]}}))}))},e.prototype.initStream=function(e){return o(this,void 0,void 0,(function(){return r(this,(function(t){switch(t.label){case 0:return this.stream=e,this.videoElement.srcObject=e,this.hasImageCapture()?(this.imageCapture=new window.ImageCapture(e.getVideoTracks()[0]),[4,this.initPhotoCapabilities(this.imageCapture)]):[3,2];case 1:return t.sent(),[3,3];case 2:this.deviceError=\"No image capture\",this.handleNoDeviceError&&this.handleNoDeviceError(),t.label=3;case 3:return this.el.forceUpdate(),[2]}}))}))},e.prototype.initPhotoCapabilities=function(e){return o(this,void 0,void 0,(function(){var t;return r(this,(function(i){switch(i.label){case 0:return[4,e.getPhotoCapabilities()];case 1:return(t=i.sent()).fillLightMode&&t.fillLightMode.length>1&&(this.flashModes=t.fillLightMode.map((function(e){return e})),this.flashMode?(this.flashMode=this.flashModes[this.flashModes.indexOf(this.flashMode)]||\"off\",this.flashIndex=this.flashModes.indexOf(this.flashMode)||0):this.flashIndex=0),[2]}}))}))},e.prototype.stopStream=function(){this.stream&&this.stream.getTracks().forEach((function(e){return e.stop()}))},e.prototype.capture=function(){return o(this,void 0,void 0,(function(){var e,t;return r(this,(function(i){switch(i.label){case 0:if(!this.hasImageCapture())return[3,5];i.label=1;case 1:return i.trys.push([1,4,,5]),[4,this.imageCapture.takePhoto({fillLightMode:this.flashModes.length>1?this.flashMode:void 0})];case 2:return e=i.sent(),[4,this.flashScreen()];case 3:return i.sent(),this.promptAccept(e),[3,5];case 4:return t=i.sent(),console.error(\"Unable to take photo!\",t),[3,5];case 5:return this.stopStream(),[2]}}))}))},e.prototype.promptAccept=function(e){return o(this,void 0,void 0,(function(){var t;return r(this,(function(i){switch(i.label){case 0:return this.photo=e,[4,this.getOrientation(e)];case 1:if(t=i.sent(),console.log(\"Got orientation\",t),this.photoOrientation=t,t)switch(t){case 1:case 2:this.rotation=0;break;case 3:case 4:this.rotation=180;break;case 5:case 6:this.rotation=90;break;case 7:case 8:this.rotation=270}return this.photoSrc=URL.createObjectURL(e),[2]}}))}))},e.prototype.getOrientation=function(e){return new Promise((function(t){var i=new FileReader;i.onload=function(e){var i=new DataView(e.target.result);if(65496!==i.getUint16(0,!1))return t(-2);for(var n=i.byteLength,o=2;o<n;){var r=i.getUint16(o,!1);if(o+=2,65505===r){if(1165519206!==i.getUint32(o+=2,!1))return t(-1);var a=18761===i.getUint16(o+=6,!1);o+=i.getUint32(o+4,a);var s=i.getUint16(o,a);o+=2;for(var c=0;c<s;c++)if(274===i.getUint16(o+12*c,a))return t(i.getUint16(o+12*c+8,a))}else{if(65280!==(65280&r))break;o+=i.getUint16(o,!1)}}return t(-1)},i.readAsArrayBuffer(e.slice(0,65536))}))},e.prototype.rotate=function(){this.stopStream();var e=this.stream&&this.stream.getTracks()[0];if(e){var t=e.getConstraints().facingMode;if(!t)t=e.getCapabilities().facingMode[0];\"environment\"===t?this.initCamera({video:{facingMode:\"user\"}}):this.initCamera({video:{facingMode:\"environment\"}})}},e.prototype.setFlashMode=function(e){console.log(\"New flash mode: \",e),this.flashMode=e},e.prototype.cycleFlash=function(){this.flashModes.length>0&&(this.flashIndex=(this.flashIndex+1)%this.flashModes.length,this.setFlashMode(this.flashModes[this.flashIndex]))},e.prototype.flashScreen=function(){return o(this,void 0,void 0,(function(){var e=this;return r(this,(function(t){return[2,new Promise((function(t,i){e.showShutterOverlay=!0,setTimeout((function(){e.showShutterOverlay=!1,t()}),100)}))]}))}))},e.prototype.iconExit=function(){return\"data:image/svg+xml,%3Csvg version='1.1' id='Layer_1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' x='0px' y='0px' viewBox='0 0 512 512' enable-background='new 0 0 512 512' xml:space='preserve'%3E%3Cg id='Icon_5_'%3E%3Cg%3E%3Cpath fill='%23FFFFFF' d='M402.2,134L378,109.8c-1.6-1.6-4.1-1.6-5.7,0L258.8,223.4c-1.6,1.6-4.1,1.6-5.7,0L139.6,109.8 c-1.6-1.6-4.1-1.6-5.7,0L109.8,134c-1.6,1.6-1.6,4.1,0,5.7l113.5,113.5c1.6,1.6,1.6,4.1,0,5.7L109.8,372.4c-1.6,1.6-1.6,4.1,0,5.7 l24.1,24.1c1.6,1.6,4.1,1.6,5.7,0l113.5-113.5c1.6-1.6,4.1-1.6,5.7,0l113.5,113.5c1.6,1.6,4.1,1.6,5.7,0l24.1-24.1 c1.6-1.6,1.6-4.1,0-5.7L288.6,258.8c-1.6-1.6-1.6-4.1,0-5.7l113.5-113.5C403.7,138.1,403.7,135.5,402.2,134z'/%3E%3C/g%3E%3C/g%3E%3C/svg%3E\"},e.prototype.iconPhotos=function(){return Object(n.g)(\"svg\",{xmlns:\"http://www.w3.org/2000/svg\",width:\"512\",height:\"512\",viewBox:\"0 0 512 512\"},Object(n.g)(\"title\",null,\"ionicons-v5-e\"),Object(n.g)(\"path\",{d:\"M450.29,112H142c-34,0-62,27.51-62,61.33V418.67C80,452.49,108,480,142,480H450c34,0,62-26.18,62-60V173.33C512,139.51,484.32,112,450.29,112Zm-77.15,61.34a46,46,0,1,1-46.28,46A46.19,46.19,0,0,1,373.14,173.33Zm-231.55,276c-17,0-29.86-13.75-29.86-30.66V353.85l90.46-80.79a46.54,46.54,0,0,1,63.44,1.83L328.27,337l-113,112.33ZM480,418.67a30.67,30.67,0,0,1-30.71,30.66H259L376.08,333a46.24,46.24,0,0,1,59.44-.16L480,370.59Z\"}),Object(n.g)(\"path\",{d:\"M384,32H64A64,64,0,0,0,0,96V352a64.11,64.11,0,0,0,48,62V152a72,72,0,0,1,72-72H446A64.11,64.11,0,0,0,384,32Z\"}))},e.prototype.iconConfirm=function(){return\"data:image/svg+xml,%3Csvg version='1.1' id='Layer_1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' x='0px' y='0px' viewBox='0 0 512 512' enable-background='new 0 0 512 512' xml:space='preserve'%3E%3Ccircle fill='%232CD865' cx='256' cy='256' r='256'/%3E%3Cg id='Icon_1_'%3E%3Cg%3E%3Cg%3E%3Cpath fill='%23FFFFFF' d='M208,301.4l-55.4-55.5c-1.5-1.5-4-1.6-5.6-0.1l-23.4,22.3c-1.6,1.6-1.7,4.1-0.1,5.7l81.6,81.4 c3.1,3.1,8.2,3.1,11.3,0l171.8-171.7c1.6-1.6,1.6-4.2-0.1-5.7l-23.4-22.3c-1.6-1.5-4.1-1.5-5.6,0.1L213.7,301.4 C212.1,303,209.6,303,208,301.4z'/%3E%3C/g%3E%3C/g%3E%3C/g%3E%3C/svg%3E\"},e.prototype.iconReverseCamera=function(){return\"data:image/svg+xml,%3Csvg version='1.1' id='Layer_1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' x='0px' y='0px' viewBox='0 0 512 512' enable-background='new 0 0 512 512' xml:space='preserve'%3E%3Cg%3E%3Cpath fill='%23FFFFFF' d='M352,0H160C72,0,0,72,0,160v192c0,88,72,160,160,160h192c88,0,160-72,160-160V160C512,72,440,0,352,0z M356.7,365.8l-3.7,3.3c-27,23.2-61.4,35.9-96.8,35.9c-72.4,0-135.8-54.7-147-125.6c-0.3-1.9-2-3.3-3.9-3.3H64 c-3.3,0-5.2-3.8-3.2-6.4l61.1-81.4c1.6-2.1,4.7-2.1,6.4-0.1l63.3,81.4c2,2.6,0.2,6.5-3.2,6.5h-40.6c-2.5,0-4.5,2.4-3.9,4.8 c11.5,51.5,59.2,90.6,112.4,90.6c26.4,0,51.8-9.7,73.7-27.9l3.1-2.5c1.6-1.3,3.9-1.1,5.3,0.3l18.5,18.6 C358.5,361.6,358.4,364.3,356.7,365.8z M451.4,245.6l-61,83.5c-1.6,2.2-4.8,2.2-6.4,0.1l-63.3-83.3c-2-2.6-0.1-6.4,3.2-6.4h40.8 c2.5,0,4.4-2.3,3.9-4.8c-5.1-24.2-17.8-46.5-36.5-63.7c-21.2-19.4-48.2-30.1-76-30.1c-26.5,0-52.6,9.7-73.7,27.3l-3.1,2.5 c-1.6,1.3-3.9,1.2-5.4-0.3l-18.5-18.5c-1.6-1.6-1.5-4.3,0.2-5.9l3.5-3.1c27-23.2,61.4-35.9,96.8-35.9c38,0,73.9,13.7,101.2,38.7 c23.2,21.1,40.3,55.2,45.7,90.1c0.3,1.9,1.9,3.4,3.9,3.4h41.3C451.4,239.2,453.3,243,451.4,245.6z'/%3E%3C/g%3E%3C/svg%3E\"},e.prototype.iconRetake=function(){return\"data:image/svg+xml,%3Csvg version='1.1' id='Layer_1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' x='0px' y='0px' viewBox='0 0 512 512' enable-background='new 0 0 512 512' xml:space='preserve'%3E%3Ccircle fill='%23727A87' cx='256' cy='256' r='256'/%3E%3Cg id='Icon_5_'%3E%3Cg%3E%3Cpath fill='%23FFFFFF' d='M394.2,142L370,117.8c-1.6-1.6-4.1-1.6-5.7,0L258.8,223.4c-1.6,1.6-4.1,1.6-5.7,0L147.6,117.8 c-1.6-1.6-4.1-1.6-5.7,0L117.8,142c-1.6,1.6-1.6,4.1,0,5.7l105.5,105.5c1.6,1.6,1.6,4.1,0,5.7L117.8,364.4c-1.6,1.6-1.6,4.1,0,5.7 l24.1,24.1c1.6,1.6,4.1,1.6,5.7,0l105.5-105.5c1.6-1.6,4.1-1.6,5.7,0l105.5,105.5c1.6,1.6,4.1,1.6,5.7,0l24.1-24.1 c1.6-1.6,1.6-4.1,0-5.7L288.6,258.8c-1.6-1.6-1.6-4.1,0-5.7l105.5-105.5C395.7,146.1,395.7,143.5,394.2,142z'/%3E%3C/g%3E%3C/g%3E%3C/svg%3E\"},e.prototype.iconFlashOff=function(){return\"data:image/svg+xml,%3Csvg version='1.1' id='Layer_1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' x='0px' y='0px' viewBox='0 0 512 512' style='enable-background:new 0 0 512 512;' xml:space='preserve'%3E%3Cstyle type='text/css'%3E .st0%7Bfill:%23FFFFFF;%7D%0A%3C/style%3E%3Cg%3E%3Cpath class='st0' d='M498,483.7L42.3,28L14,56.4l149.8,149.8L91,293.8c-2.5,3-0.1,7.2,3.9,7.2h143.9c1.6,0,2.7,1.3,2.4,2.7 L197.6,507c-1,4.4,5.8,6.9,8.9,3.2l118.6-142.8L469.6,512L498,483.7z'/%3E%3Cpath class='st0' d='M449,218.2c2.5-3,0.1-7.2-3.9-7.2H301.2c-1.6,0-2.7-1.3-2.4-2.7L342.4,5c1-4.4-5.8-6.9-8.9-3.2L214.9,144.6 l161.3,161.3L449,218.2z'/%3E%3C/g%3E%3C/svg%3E\"},e.prototype.iconFlashOn=function(){return\"data:image/svg+xml,%3Csvg version='1.1' id='Layer_1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' x='0px' y='0px' viewBox='0 0 512 512' style='enable-background:new 0 0 512 512;' xml:space='preserve'%3E%3Cstyle type='text/css'%3E .st0%7Bfill:%23FFFFFF;%7D%0A%3C/style%3E%3Cpath class='st0' d='M287.2,211c-1.6,0-2.7-1.3-2.4-2.7L328.4,5c1-4.4-5.8-6.9-8.9-3.2L77,293.8c-2.5,3-0.1,7.2,3.9,7.2h143.9 c1.6,0,2.7,1.3,2.4,2.7L183.6,507c-1,4.4,5.8,6.9,8.9,3.2l242.5-292c2.5-3,0.1-7.2-3.9-7.2L287.2,211L287.2,211z'/%3E%3C/svg%3E\"},e.prototype.iconFlashAuto=function(){return\"data:image/svg+xml,%3Csvg version='1.1' id='Layer_1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' x='0px' y='0px' viewBox='0 0 512 512' style='enable-background:new 0 0 512 512;' xml:space='preserve'%3E%3Cstyle type='text/css'%3E .st0%7Bfill:%23FFFFFF;%7D%0A%3C/style%3E%3Cpath class='st0' d='M287.2,211c-1.6,0-2.7-1.3-2.4-2.7L328.4,5c1-4.4-5.8-6.9-8.9-3.2L77,293.8c-2.5,3-0.1,7.2,3.9,7.2h143.9 c1.6,0,2.7,1.3,2.4,2.7L183.6,507c-1,4.4,5.8,6.9,8.9,3.2l242.5-292c2.5-3,0.1-7.2-3.9-7.2L287.2,211L287.2,211z'/%3E%3Cg%3E%3Cpath class='st0' d='M321.3,186l74-186H438l74,186h-43.5l-11.9-32.5h-80.9l-12,32.5H321.3z M415.8,47.9l-27.2,70.7h54.9l-27.2-70.7 H415.8z'/%3E%3C/g%3E%3C/svg%3E\"},e.prototype.render=function(){var e=this;return Object(n.g)(\"div\",{class:\"camera-wrapper\"},Object(n.g)(\"div\",{class:\"camera-header\"},Object(n.g)(\"section\",{class:\"items\"},Object(n.g)(\"div\",{class:\"item close\",onClick:function(t){return e.handleClose(t)}},Object(n.g)(\"img\",{src:this.iconExit()})),Object(n.g)(\"div\",{class:\"item flash\",onClick:function(t){return e.handleFlashClick(t)}},this.flashModes.length>0&&Object(n.g)(\"div\",null,\"off\"==this.flashMode?Object(n.g)(\"img\",{src:this.iconFlashOff()}):\"\",\"auto\"==this.flashMode?Object(n.g)(\"img\",{src:this.iconFlashAuto()}):\"\",\"flash\"==this.flashMode?Object(n.g)(\"img\",{src:this.iconFlashOn()}):\"\")))),(!1===this.hasCamera||!!this.deviceError)&&Object(n.g)(\"div\",{class:\"no-device\"},Object(n.g)(\"h2\",null,this.noDevicesText),Object(n.g)(\"label\",{htmlFor:\"_pwa-elements-camera-input\"},this.noDevicesButtonText),Object(n.g)(\"input\",{type:\"file\",id:\"_pwa-elements-camera-input\",onChange:this.handleFileInputChange,accept:\"image/*\",class:\"select-file-button\"})),this.photo?Object(n.g)(\"div\",{class:\"accept\"},Object(n.g)(\"div\",{class:\"accept-image\",style:Object.assign({backgroundImage:\"url(\"+this.photoSrc+\")\"},{})})):Object(n.g)(\"div\",{class:\"camera-video\"},this.showShutterOverlay&&Object(n.g)(\"div\",{class:\"shutter-overlay\"}),this.hasImageCapture()?Object(n.g)(\"video\",{ref:function(t){return e.videoElement=t},onLoadedMetaData:this.handleVideoMetadata,autoplay:!0,playsinline:!0}):Object(n.g)(\"canvas\",{ref:function(t){return e.canvasElement=t},width:\"100%\",height:\"100%\"}),Object(n.g)(\"canvas\",{class:\"offscreen-image-render\",ref:function(t){return e.offscreenCanvas=t},width:\"100%\",height:\"100%\"})),this.hasCamera&&Object(n.g)(\"div\",{class:\"camera-footer\"},this.photo?Object(n.g)(\"section\",{class:\"items\"},Object(n.g)(\"div\",{class:\"item accept-cancel\",onClick:function(t){return e.handleCancelPhoto(t)}},Object(n.g)(\"img\",{src:this.iconRetake()})),Object(n.g)(\"div\",{class:\"item accept-use\",onClick:function(t){return e.handleAcceptPhoto(t)}},Object(n.g)(\"img\",{src:this.iconConfirm()}))):[Object(n.g)(\"div\",{class:\"pick-image\",onClick:this.handlePickFile},Object(n.g)(\"label\",{htmlFor:\"_pwa-elements-file-pick\"},this.iconPhotos()),Object(n.g)(\"input\",{type:\"file\",id:\"_pwa-elements-file-pick\",onChange:this.handleFileInputChange,accept:\"image/*\",class:\"pick-image-button\"})),Object(n.g)(\"div\",{class:\"shutter\",onClick:this.handleShutterClick},Object(n.g)(\"div\",{class:\"shutter-button\"})),Object(n.g)(\"div\",{class:\"rotate\",onClick:this.handleRotateClick},Object(n.g)(\"img\",{src:this.iconReverseCamera()}))]))},Object.defineProperty(e,\"assetsDirs\",{get:function(){return[\"icons\"]},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,\"el\",{get:function(){return Object(n.f)(this)},enumerable:!0,configurable:!0}),Object.defineProperty(e,\"style\",{get:function(){return\":host{--header-height:4em;--footer-height:9em;--header-height-landscape:3em;--footer-height-landscape:6em;--shutter-size:6em;--icon-size-header:1.5em;--icon-size-footer:2.5em;--margin-size-header:1.5em;--margin-size-footer:2.0em;font-family:-apple-system,BlinkMacSystemFont,\\u201cSegoe UI\\u201d,\\u201cRoboto\\u201d,\\u201cDroid Sans\\u201d,\\u201cHelvetica Neue\\u201d,sans-serif;display:block}.items,:host{width:100%;height:100%}.items{-webkit-box-sizing:border-box;box-sizing:border-box;display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center}.items .item{-ms-flex:1;flex:1;text-align:center}.items .item:first-child{text-align:left}.items .item:last-child{text-align:right}.camera-wrapper{position:relative;display:-ms-flexbox;display:flex;-ms-flex-direction:column;flex-direction:column;width:100%;height:100%}.camera-header{color:#fff;background-color:#000;height:var(--header-height)}.camera-header .items{padding:var(--margin-size-header)}.camera-footer{position:relative;color:#fff;background-color:#000;height:var(--footer-height)}.camera-footer .items{padding:var(--margin-size-footer)}@media (max-height:375px){.camera-header{--header-height:var(--header-height-landscape)}.camera-footer{--footer-height:var(--footer-height-landscape)}.camera-footer .shutter{--shutter-size:4em}}.camera-video{position:relative;-ms-flex:1;flex:1;overflow:hidden}.camera-video,video{background-color:#000}video{width:100%;height:100%;max-height:100%;min-height:100%;-o-object-fit:cover;object-fit:cover}.pick-image{display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;position:absolute;left:var(--margin-size-footer);top:0;height:100%;width:var(--icon-size-footer);color:#fff}.pick-image input{visibility:hidden}.pick-image svg{cursor:pointer;fill:#fff;width:var(--icon-size-footer);height:var(--icon-size-footer)}.shutter{position:absolute;left:50%;top:50%;width:var(--shutter-size);height:var(--shutter-size);margin-top:calc(var(--shutter-size) / -2);margin-left:calc(var(--shutter-size) / -2);border-radius:100%;background-color:#c6cdd8;padding:12px;-webkit-box-sizing:border-box;box-sizing:border-box}.shutter:active .shutter-button{background-color:#9da9bb}.shutter-button{background-color:#fff;border-radius:100%;width:100%;height:100%}.rotate{display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;position:absolute;right:var(--margin-size-footer);top:0;height:100%;color:#fff}.rotate,.rotate img{width:var(--icon-size-footer)}.rotate img{height:var(--icon-size-footer)}.shutter-overlay{z-index:5;position:absolute;width:100%;height:100%;background-color:#000}.error{width:100%;height:100%;-ms-flex-pack:center;-ms-flex-align:center}.error,.no-device{color:#fff;display:-ms-flexbox;display:flex;justify-content:center;align-items:center}.no-device{background-color:#000;-ms-flex:1;flex:1;-ms-flex-direction:column;flex-direction:column;-ms-flex-align:center;-ms-flex-pack:center}.no-device label{cursor:pointer;background:#fff;border-radius:6px;padding:6px 8px;color:#000}.no-device input{visibility:hidden;height:0;margin-top:16px}.accept{background-color:#000;-ms-flex:1;flex:1;overflow:hidden}.accept .accept-image{width:100%;height:100%;max-height:100%;background-position:50%;background-size:cover;background-repeat:no-repeat}.close img{cursor:pointer}.close img,.flash img{width:var(--icon-size-header);height:var(--icon-size-header)}.accept-cancel img,.accept-use img{width:var(--icon-size-footer);height:var(--icon-size-footer)}.offscreen-image-render{top:0;left:0;visibility:hidden;pointer-events:none;width:100%;height:100%}\"},enumerable:!0,configurable:!0}),e}()}}]);","name":"static/js/62.57311995.chunk.js","map":{"version":3,"sources":["static/js/62.57311995.chunk.js"],"names":["this","push","208","module","__webpack_exports__","__webpack_require__","r","d","CameraPWA","_core_f86805ad_js__WEBPACK_IMPORTED_MODULE_0__","__awaiter","thisArg","_arguments","P","generator","Promise","resolve","reject","fulfilled","value","step","next","e","rejected","result","done","then","apply","__generator","body","f","y","t","g","_","label","sent","trys","ops","verb","throw","return","Symbol","iterator","n","v","op","TypeError","call","pop","length","ImageCapture","window","videoStreamTrack","_this","kind","DOMException","_videoStreamTrack","readyState","_previewStream","MediaStream","videoElement","document","createElement","videoElementPlaying","addEventListener","HTMLMediaElement","srcObject","src","URL","createObjectURL","muted","setAttribute","play","canvasElement","canvas2dContext","getContext","Object","defineProperty","prototype","get","enumerable","configurable","getPhotoCapabilities","MediaSettingsRange","current","min","max","exposureCompensation","exposureMode","fillLightMode","focusMode","imageHeight","imageWidth","iso","redEyeReduction","whiteBalanceMode","zoom","setOptions","_photoSettings","_resolve","_reject","takePhoto","self","width","videoWidth","height","videoHeight","drawImage","toBlob","error","grabFrame","createImageBitmap","class_1","hostRef","facingMode","noDevicesText","noDevicesButtonText","showShutterOverlay","flashIndex","hasCamera","rotation","deviceError","hasMultipleCameras","hasFlash","flashModes","flashMode","handlePickFile","_e","handleShutterClick","console","log","capture","handleRotateClick","rotate","handleClose","handlePhoto","handleFlashClick","cycleFlash","handleCancelPhoto","track","stream","getTracks","c","getConstraints","photo","initCamera","video","handleAcceptPhoto","handleFileInputChange","input","file","orientation","_a","target","files","getOrientation","photoOrientation","handleVideoMetadata","isServer","componentDidLoad","defaultConstraints","queryDevices","componentDidUnload","stopStream","photoSrc","revokeObjectURL","hasImageCapture","devices","videoDevices","e_2","navigator","mediaDevices","enumerateDevices","filter","constraints","e_3","getUserMedia","assign","audio","initStream","handleNoDeviceError","imageCapture","getVideoTracks","initPhotoCapabilities","el","forceUpdate","map","m","indexOf","forEach","stop","e_4","undefined","flashScreen","promptAccept","reader","FileReader","onload","event","view","DataView","getUint16","byteLength","offset","marker","getUint32","little","tags","i","readAsArrayBuffer","slice","getCapabilities","setFlashMode","mode","setTimeout","iconExit","iconPhotos","xmlns","viewBox","iconConfirm","iconReverseCamera","iconRetake","iconFlashOff","iconFlashOn","iconFlashAuto","render","class","onClick","htmlFor","type","id","onChange","accept","style","backgroundImage","ref","onLoadedMetaData","autoplay","playsinline","offscreenCanvas"],"mappings":"CAACA,KAAK,2BAA6BA,KAAK,4BAA8B,IAAIC,KAAK,CAAC,CAAC,IAAI,CAE/EC,IACA,SAAUC,EAAQC,EAAqBC,GAE7C,aACAA,EAAoBC,EAAEF,GACSC,EAAoBE,EAAEH,EAAqB,cAAc,WAAa,OAAOI,KACvF,IAAIC,EAAiDJ,EAAoB,IAC1FK,EAAgD,SAAUC,EAASC,EAAYC,EAAGC,GAOpF,OAAO,IAAKD,IAAMA,EAAIE,WAAU,SAAUC,EAASC,GACjD,SAASC,EAAUC,GACjB,IACEC,EAAKN,EAAUO,KAAKF,IACpB,MAAOG,GACPL,EAAOK,IAIX,SAASC,EAASJ,GAChB,IACEC,EAAKN,EAAiB,MAAEK,IACxB,MAAOG,GACPL,EAAOK,IAIX,SAASF,EAAKI,GAvBhB,IAAeL,EAwBXK,EAAOC,KAAOT,EAAQQ,EAAOL,QAxBlBA,EAwBiCK,EAAOL,MAvB9CA,aAAiBN,EAAIM,EAAQ,IAAIN,GAAE,SAAUG,GAClDA,EAAQG,OAsBkDO,KAAKR,EAAWK,GAG5EH,GAAMN,EAAYA,EAAUa,MAAMhB,EAASC,GAAc,KAAKS,YAI9DO,EAAoD,SAAUjB,EAASkB,GACzE,IASIC,EACAC,EACAC,EACAC,EAZAC,EAAI,CACNC,MAAO,EACPC,KAAM,WACJ,GAAW,EAAPJ,EAAE,GAAQ,MAAMA,EAAE,GACtB,OAAOA,EAAE,IAEXK,KAAM,GACNC,IAAK,IAMP,OAAOL,EAAI,CACTZ,KAAMkB,EAAK,GACXC,MAASD,EAAK,GACdE,OAAUF,EAAK,IACI,oBAAXG,SAA0BT,EAAES,OAAOC,UAAY,WACvD,OAAO3C,OACLiC,EAEJ,SAASM,EAAKK,GACZ,OAAO,SAAUC,GACf,OAIJ,SAAcC,GACZ,GAAIhB,EAAG,MAAM,IAAIiB,UAAU,mCAE3B,KAAOb,GACL,IACE,GAAIJ,EAAI,EAAGC,IAAMC,EAAY,EAARc,EAAG,GAASf,EAAU,OAAIe,EAAG,GAAKf,EAAS,SAAOC,EAAID,EAAU,SAAMC,EAAEgB,KAAKjB,GAAI,GAAKA,EAAEV,SAAWW,EAAIA,EAAEgB,KAAKjB,EAAGe,EAAG,KAAKrB,KAAM,OAAOO,EAG3J,OAFID,EAAI,EAAGC,IAAGc,EAAK,CAAS,EAARA,EAAG,GAAQd,EAAEb,QAEzB2B,EAAG,IACT,KAAK,EACL,KAAK,EACHd,EAAIc,EACJ,MAEF,KAAK,EAEH,OADAZ,EAAEC,QACK,CACLhB,MAAO2B,EAAG,GACVrB,MAAM,GAGV,KAAK,EACHS,EAAEC,QACFJ,EAAIe,EAAG,GACPA,EAAK,CAAC,GACN,SAEF,KAAK,EACHA,EAAKZ,EAAEI,IAAIW,MAEXf,EAAEG,KAAKY,MAEP,SAEF,QACE,KAAkBjB,GAAZA,EAAIE,EAAEG,MAAYa,OAAS,GAAKlB,EAAEA,EAAEkB,OAAS,MAAkB,IAAVJ,EAAG,IAAsB,IAAVA,EAAG,IAAW,CACtFZ,EAAI,EACJ,SAGF,GAAc,IAAVY,EAAG,MAAcd,GAAKc,EAAG,GAAKd,EAAE,IAAMc,EAAG,GAAKd,EAAE,IAAK,CACvDE,EAAEC,MAAQW,EAAG,GACb,MAGF,GAAc,IAAVA,EAAG,IAAYZ,EAAEC,MAAQH,EAAE,GAAI,CACjCE,EAAEC,MAAQH,EAAE,GACZA,EAAIc,EACJ,MAGF,GAAId,GAAKE,EAAEC,MAAQH,EAAE,GAAI,CACvBE,EAAEC,MAAQH,EAAE,GAEZE,EAAEI,IAAIrC,KAAK6C,GAEX,MAGEd,EAAE,IAAIE,EAAEI,IAAIW,MAEhBf,EAAEG,KAAKY,MAEP,SAGJH,EAAKjB,EAAKmB,KAAKrC,EAASuB,GACxB,MAAOZ,GACPwB,EAAK,CAAC,EAAGxB,GACTS,EAAI,EACJ,QACAD,EAAIE,EAAI,EAIZ,GAAY,EAARc,EAAG,GAAQ,MAAMA,EAAG,GACxB,MAAO,CACL3B,MAAO2B,EAAG,GAAKA,EAAG,QAAK,EACvBrB,MAAM,GAlFCL,CAAK,CAACwB,EAAGC,OA2GlBM,EAAeC,OAAOD,aAEE,qBAAjBA,IACTA,EAEA,WAME,SAASA,EAAaE,GACpB,IAAIC,EAAQtD,KAEZ,GAA8B,UAA1BqD,EAAiBE,KAAkB,MAAM,IAAIC,aAAa,qBAC9DxD,KAAKyD,kBAAoBJ,EAEnB,eAAgBrD,KAAKyD,oBAEzBzD,KAAKyD,kBAAkBC,WAAa,QAItC1D,KAAK2D,eAAiB,IAAIC,YAAY,CAACP,IACvCrD,KAAK6D,aAAeC,SAASC,cAAc,SAC3C/D,KAAKgE,oBAAsB,IAAIjD,SAAQ,SAAUC,GAC/CsC,EAAMO,aAAaI,iBAAiB,UAAWjD,MAG7CkD,iBACFlE,KAAK6D,aAAaM,UAAYnE,KAAK2D,eAEnC3D,KAAK6D,aAAaO,IAAMC,IAAIC,gBAAgBtE,KAAK2D,gBAGnD3D,KAAK6D,aAAaU,OAAQ,EAC1BvE,KAAK6D,aAAaW,aAAa,cAAe,IAE9CxE,KAAK6D,aAAaY,OAClBzE,KAAK0E,cAAgBZ,SAASC,cAAc,UAE5C/D,KAAK2E,gBAAkB3E,KAAK0E,cAAcE,WAAW,MAuHvD,OApHAC,OAAOC,eAAe3B,EAAa4B,UAAW,mBAAoB,CAKhEC,IAAK,WACH,OAAOhF,KAAKyD,mBAEdwB,YAAY,EACZC,cAAc,IAShB/B,EAAa4B,UAAUI,qBAAuB,WAC5C,OAAO,IAAIpE,SAAQ,SAAqBC,EAASC,GAE/C,IAAImE,EAAqB,CACvBC,QAAS,EACTC,IAAK,EACLC,IAAK,GAEPvE,EAAQ,CACNwE,qBAAsBJ,EACtBK,aAAc,OACdC,cAAe,CAAC,QAChBC,UAAW,OACXC,YAAaR,EACbS,WAAYT,EACZU,IAAKV,EACLW,iBAAiB,EACjBC,iBAAkB,OAClBC,KAAMb,IAERnE,EAAO,IAAIuC,aAAa,uBAU5BL,EAAa4B,UAAUmB,WAAa,SAAUC,GAK5C,YAJuB,IAAnBA,IACFA,EAAiB,IAGZ,IAAIpF,SAAQ,SAAoBqF,EAAUC,QAWnDlD,EAAa4B,UAAUuB,UAAY,WACjC,IAAIC,EAAOvG,KACX,OAAO,IAAIe,SAAQ,SAAoBC,EAASC,GAG9C,GAA0C,SAAtCsF,EAAK9C,kBAAkBC,WACzB,OAAOzC,EAAO,IAAIuC,aAAa,sBAGjC+C,EAAKvC,oBAAoBtC,MAAK,WAC5B,IACE6E,EAAK7B,cAAc8B,MAAQD,EAAK1C,aAAa4C,WAC7CF,EAAK7B,cAAcgC,OAASH,EAAK1C,aAAa8C,YAC9CJ,EAAK5B,gBAAgBiC,UAAUL,EAAK1C,aAAc,EAAG,GACrD0C,EAAK7B,cAAcmC,OAAO7F,GAC1B,MAAO8F,GACP7F,EAAO,IAAIuC,aAAa,yBAahCL,EAAa4B,UAAUgC,UAAY,WACjC,IAAIR,EAAOvG,KACX,OAAO,IAAIe,SAAQ,SAAoBC,EAASC,GAG9C,GAA0C,SAAtCsF,EAAK9C,kBAAkBC,WACzB,OAAOzC,EAAO,IAAIuC,aAAa,sBAGjC+C,EAAKvC,oBAAoBtC,MAAK,WAC5B,IACE6E,EAAK7B,cAAc8B,MAAQD,EAAK1C,aAAa4C,WAC7CF,EAAK7B,cAAcgC,OAASH,EAAK1C,aAAa8C,YAC9CJ,EAAK5B,gBAAgBiC,UAAUL,EAAK1C,aAAc,EAAG,GAErD7C,EAAQoC,OAAO4D,kBAAkBT,EAAK7B,gBACtC,MAAOoC,GACP7F,EAAO,IAAIuC,aAAa,yBAMzBL,EA3JT,IA+JFC,OAAOD,aAAeA,EAEtB,IAAI3C,EAEJ,WACE,SAASyG,EAAQC,GACf,IAAI5D,EAAQtD,KAEZ6E,OAAOpE,EAA0D,EAAjEoE,CAAoE7E,KAAMkH,GAC1ElH,KAAKmH,WAAa,OAClBnH,KAAKoH,cAAgB,kBACrBpH,KAAKqH,oBAAsB,eAC3BrH,KAAKsH,oBAAqB,EAC1BtH,KAAKuH,WAAa,EAClBvH,KAAKwH,UAAY,KACjBxH,KAAKyH,SAAW,EAChBzH,KAAK0H,YAAc,KAEnB1H,KAAK2H,oBAAqB,EAE1B3H,KAAK4H,UAAW,EAEhB5H,KAAK6H,WAAa,GAElB7H,KAAK8H,UAAY,MAEjB9H,KAAK+H,eAAiB,SAAUC,KAEhChI,KAAKiI,mBAAqB,SAAUD,GAClCE,QAAQC,MAER7E,EAAM8E,WAGRpI,KAAKqI,kBAAoB,SAAUL,GACjC1E,EAAMgF,UAGRtI,KAAKuI,YAAc,SAAUP,GAC3B1E,EAAMkF,aAAelF,EAAMkF,YAAY,OAGzCxI,KAAKyI,iBAAmB,SAAUT,GAChC1E,EAAMoF,cAGR1I,KAAK2I,kBAAoB,SAAUX,GACjC,IAAIY,EAAQtF,EAAMuF,QAAUvF,EAAMuF,OAAOC,YAAY,GAEjDC,EAAIH,GAASA,EAAMI,iBACvB1F,EAAM2F,MAAQ,KAEVF,EACFzF,EAAM4F,WAAW,CACfC,MAAO,CACLhC,WAAY4B,EAAE5B,cAIlB7D,EAAM4F,cAIVlJ,KAAKoJ,kBAAoB,SAAUpB,GACjC1E,EAAMkF,aAAelF,EAAMkF,YAAYlF,EAAM2F,QAG/CjJ,KAAKqJ,sBAAwB,SAAU/H,GACrC,OAAOZ,EAAU4C,OAAO,OAAQ,GAAQ,WACtC,IAAIgG,EAAOC,EAAMC,EACjB,OAAO5H,EAAY5B,MAAM,SAAUyJ,GACjC,OAAQA,EAAGtH,OACT,KAAK,EACHmH,EAAQhI,EAAEoI,OACVH,EAAOD,EAAMK,MAAM,GACnBF,EAAGtH,MAAQ,EAEb,KAAK,EAGH,OAFAsH,EAAGpH,KAAKpC,KAAK,CAAC,EAAG,EAAE,CAAE,IAEd,CAAC,EAEND,KAAK4J,eAAeL,IAExB,KAAK,EAIH,OAHAC,EAAcC,EAAGrH,OACjB8F,QAAQC,IAAI,kBAAmBqB,GAC/BxJ,KAAK6J,iBAAmBL,EACjB,CAAC,EAEN,GAEJ,KAAK,EAEH,OADMC,EAAGrH,OACF,CAAC,EAEN,GAEJ,KAAK,EAEH,OADApC,KAAKwI,aAAexI,KAAKwI,YAAYe,GAC9B,CAAC,WAQlBvJ,KAAK8J,oBAAsB,SAAUxI,GACnC4G,QAAQC,IAAI,iBAAkB7G,IAGhCtB,KAAK+J,SAAWlF,OAAOpE,EAA0D,EAAjEoE,CAAoE7E,KAAM,YA2lB5F,OAxlBAiH,EAAQlC,UAAUiF,iBAAmB,WACnC,OAAOtJ,EAAUV,UAAM,OAAQ,GAAQ,WACrC,OAAO4B,EAAY5B,MAAM,SAAUyJ,GACjC,OAAQA,EAAGtH,OACT,KAAK,EACH,OAAInC,KAAK+J,SACA,CAAC,IAKV/J,KAAKiK,mBAAqB,CACxBd,MAAO,CACLhC,WAAYnH,KAAKmH,aAId,CAAC,EAENnH,KAAKkK,iBAET,KAAK,EAKH,OAHAT,EAAGrH,OAGI,CAAC,EAENpC,KAAKkJ,cAET,KAAK,EAIH,OAFAO,EAAGrH,OAEI,CAAC,WAQlB6E,EAAQlC,UAAUoF,mBAAqB,WACrCnK,KAAKoK,aACLpK,KAAKqK,UAAYhG,IAAIiG,gBAAgBtK,KAAKqK,WAG5CpD,EAAQlC,UAAUwF,gBAAkB,WAClC,MAAO,iBAAkBnH,QAO3B6D,EAAQlC,UAAUmF,aAAe,WAC/B,OAAOxJ,EAAUV,UAAM,OAAQ,GAAQ,WACrC,IAAIwK,EAASC,EAAcC,EAC3B,OAAO9I,EAAY5B,MAAM,SAAUyJ,GACjC,OAAQA,EAAGtH,OACT,KAAK,EAGH,OAFAsH,EAAGpH,KAAKpC,KAAK,CAAC,EAAG,EAAE,CAAE,IAEd,CAAC,EAEN0K,UAAUC,aAAaC,oBAE3B,KAAK,EAOH,OANAL,EAAUf,EAAGrH,OACbqI,EAAeD,EAAQM,QAAO,SAAUvK,GACtC,MAAiB,cAAVA,EAAEgD,QAEXvD,KAAKwH,YAAciD,EAAavH,OAChClD,KAAK2H,mBAAqB8C,EAAavH,OAAS,EACzC,CAAC,EAEN,GAEJ,KAAK,EAGH,OAFAwH,EAAMjB,EAAGrH,OACTpC,KAAK0H,YAAcgD,EACZ,CAAC,EAEN,GAEJ,KAAK,EACH,MAAO,CAAC,WAQlBzD,EAAQlC,UAAUmE,WAAa,SAAU6B,GACvC,OAAOrK,EAAUV,UAAM,OAAQ,GAAQ,WACrC,IAAI6I,EAAQmC,EACZ,OAAOpJ,EAAY5B,MAAM,SAAUyJ,GACjC,OAAQA,EAAGtH,OACT,KAAK,EACE4I,IACHA,EAAc/K,KAAKiK,oBAGrBR,EAAGtH,MAAQ,EAEb,KAAK,EAGH,OAFAsH,EAAGpH,KAAKpC,KAAK,CAAC,EAAG,EAAE,CAAE,IAEd,CAAC,EAEN0K,UAAUC,aAAaK,aAAapG,OAAOqG,OAAO,CAClD/B,OAAO,EACPgC,OAAO,GACNJ,KAEL,KAAK,EAGH,OAFAlC,EAASY,EAAGrH,OACZpC,KAAKoL,WAAWvC,GACT,CAAC,EAEN,GAEJ,KAAK,EAIH,OAHAmC,EAAMvB,EAAGrH,OACTpC,KAAK0H,YAAcsD,EACnBhL,KAAKqL,qBAAuBrL,KAAKqL,oBAAoBL,GAC9C,CAAC,EAEN,GAEJ,KAAK,EACH,MAAO,CAAC,WAQlB/D,EAAQlC,UAAUqG,WAAa,SAAUvC,GACvC,OAAOnI,EAAUV,UAAM,OAAQ,GAAQ,WACrC,OAAO4B,EAAY5B,MAAM,SAAUyJ,GACjC,OAAQA,EAAGtH,OACT,KAAK,EAGH,OAFAnC,KAAK6I,OAASA,EACd7I,KAAK6D,aAAaM,UAAY0E,EACzB7I,KAAKuK,mBAGVvK,KAAKsL,aAAe,IAAIlI,OAAOD,aAAa0F,EAAO0C,iBAAiB,IAC7D,CAAC,EAENvL,KAAKwL,sBAAsBxL,KAAKsL,gBANE,CAAC,EAEnC,GAMJ,KAAK,EAGH,OAFA7B,EAAGrH,OAEI,CAAC,EAEN,GAEJ,KAAK,EACHpC,KAAK0H,YAAc,mBACnB1H,KAAKqL,qBAAuBrL,KAAKqL,sBACjC5B,EAAGtH,MAAQ,EAEb,KAAK,EAGH,OADAnC,KAAKyL,GAAGC,cACD,CAAC,WAQlBzE,EAAQlC,UAAUyG,sBAAwB,SAAUF,GAClD,OAAO5K,EAAUV,UAAM,OAAQ,GAAQ,WACrC,IAAI+I,EACJ,OAAOnH,EAAY5B,MAAM,SAAUyJ,GACjC,OAAQA,EAAGtH,OACT,KAAK,EACH,MAAO,CAAC,EAENmJ,EAAanG,wBAEjB,KAAK,EAgBH,OAfA4D,EAAIU,EAAGrH,QAEDsD,eAAiBqD,EAAErD,cAAcxC,OAAS,IAC9ClD,KAAK6H,WAAakB,EAAErD,cAAciG,KAAI,SAAUC,GAC9C,OAAOA,KAGL5L,KAAK8H,WACP9H,KAAK8H,UAAY9H,KAAK6H,WAAW7H,KAAK6H,WAAWgE,QAAQ7L,KAAK8H,aAAe,MAC7E9H,KAAKuH,WAAavH,KAAK6H,WAAWgE,QAAQ7L,KAAK8H,YAAc,GAE7D9H,KAAKuH,WAAa,GAIf,CAAC,WAQlBN,EAAQlC,UAAUqF,WAAa,WAC7BpK,KAAK6I,QAAU7I,KAAK6I,OAAOC,YAAYgD,SAAQ,SAAUlD,GACvD,OAAOA,EAAMmD,WAIjB9E,EAAQlC,UAAUqD,QAAU,WAC1B,OAAO1H,EAAUV,UAAM,OAAQ,GAAQ,WACrC,IAAIiJ,EAAO+C,EACX,OAAOpK,EAAY5B,MAAM,SAAUyJ,GACjC,OAAQA,EAAGtH,OACT,KAAK,EACH,IAAKnC,KAAKuK,kBAAmB,MAAO,CAAC,EAEnC,GACFd,EAAGtH,MAAQ,EAEb,KAAK,EAGH,OAFAsH,EAAGpH,KAAKpC,KAAK,CAAC,EAAG,EAAE,CAAE,IAEd,CAAC,EAEND,KAAKsL,aAAahF,UAAU,CAC5BZ,cAAe1F,KAAK6H,WAAW3E,OAAS,EAAIlD,KAAK8H,eAAYmE,KAGjE,KAAK,EAEH,OADAhD,EAAQQ,EAAGrH,OACJ,CAAC,EAENpC,KAAKkM,eAET,KAAK,EAIH,OAHAzC,EAAGrH,OAEHpC,KAAKmM,aAAalD,GACX,CAAC,EAEN,GAEJ,KAAK,EAGH,OAFA+C,EAAMvC,EAAGrH,OACT8F,QAAQpB,MAAM,wBAAyBkF,GAChC,CAAC,EAEN,GAEJ,KAAK,EAEH,OADAhM,KAAKoK,aACE,CAAC,WAQlBnD,EAAQlC,UAAUoH,aAAe,SAAUlD,GACzC,OAAOvI,EAAUV,UAAM,OAAQ,GAAQ,WACrC,IAAIwJ,EACJ,OAAO5H,EAAY5B,MAAM,SAAUyJ,GACjC,OAAQA,EAAGtH,OACT,KAAK,EAEH,OADAnC,KAAKiJ,MAAQA,EACN,CAAC,EAENjJ,KAAK4J,eAAeX,IAExB,KAAK,EAKH,GAJAO,EAAcC,EAAGrH,OACjB8F,QAAQC,IAAI,kBAAmBqB,GAC/BxJ,KAAK6J,iBAAmBL,EAEpBA,EACF,OAAQA,GACN,KAAK,EACL,KAAK,EACHxJ,KAAKyH,SAAW,EAChB,MAEF,KAAK,EACL,KAAK,EACHzH,KAAKyH,SAAW,IAChB,MAEF,KAAK,EACL,KAAK,EACHzH,KAAKyH,SAAW,GAChB,MAEF,KAAK,EACL,KAAK,EACHzH,KAAKyH,SAAW,IAMtB,OADAzH,KAAKqK,SAAWhG,IAAIC,gBAAgB2E,GAC7B,CAAC,WAQlBhC,EAAQlC,UAAU6E,eAAiB,SAAUL,GAC3C,OAAO,IAAIxI,SAAQ,SAAUC,GAC3B,IAAIoL,EAAS,IAAIC,WAEjBD,EAAOE,OAAS,SAAUC,GACxB,IAAIC,EAAO,IAAIC,SAASF,EAAM7C,OAAOlI,QAErC,GAAiC,QAA7BgL,EAAKE,UAAU,GAAG,GACpB,OAAO1L,GAAS,GAMlB,IAHA,IAAIkC,EAASsJ,EAAKG,WACdC,EAAS,EAENA,EAAS1J,GAAQ,CACtB,IAAI2J,EAASL,EAAKE,UAAUE,GAAQ,GAGpC,GAFAA,GAAU,EAEK,QAAXC,EAAmB,CACrB,GAA2C,aAAvCL,EAAKM,UAAUF,GAAU,GAAG,GAC9B,OAAO5L,GAAS,GAGlB,IAAI+L,EAAgD,QAAvCP,EAAKE,UAAUE,GAAU,GAAG,GACzCA,GAAUJ,EAAKM,UAAUF,EAAS,EAAGG,GACrC,IAAIC,EAAOR,EAAKE,UAAUE,EAAQG,GAClCH,GAAU,EAEV,IAAK,IAAIK,EAAI,EAAGA,EAAID,EAAMC,IACxB,GAAgD,MAA5CT,EAAKE,UAAUE,EAAa,GAAJK,EAAQF,GAClC,OAAO/L,EAAQwL,EAAKE,UAAUE,EAAa,GAAJK,EAAS,EAAGF,QAGlD,CAAA,GAA0B,SAAZ,MAATF,GACV,MAEAD,GAAUJ,EAAKE,UAAUE,GAAQ,IAIrC,OAAO5L,GAAS,IAGlBoL,EAAOc,kBAAkB3D,EAAK4D,MAAM,EAAG,YAI3ClG,EAAQlC,UAAUuD,OAAS,WACzBtI,KAAKoK,aACL,IAAIxB,EAAQ5I,KAAK6I,QAAU7I,KAAK6I,OAAOC,YAAY,GAEnD,GAAKF,EAAL,CAIA,IACIzB,EADIyB,EAAMI,iBACK7B,WAEnB,IAAKA,EAEHA,EADUyB,EAAMwE,kBACCjG,WAAW,GAGX,gBAAfA,EACFnH,KAAKkJ,WAAW,CACdC,MAAO,CACLhC,WAAY,UAIhBnH,KAAKkJ,WAAW,CACdC,MAAO,CACLhC,WAAY,mBAMpBF,EAAQlC,UAAUsI,aAAe,SAAUC,GACzCpF,QAAQC,IAAI,mBAAoBmF,GAChCtN,KAAK8H,UAAYwF,GAGnBrG,EAAQlC,UAAU2D,WAAa,WACzB1I,KAAK6H,WAAW3E,OAAS,IAC3BlD,KAAKuH,YAAcvH,KAAKuH,WAAa,GAAKvH,KAAK6H,WAAW3E,OAC1DlD,KAAKqN,aAAarN,KAAK6H,WAAW7H,KAAKuH,eAI3CN,EAAQlC,UAAUmH,YAAc,WAC9B,OAAOxL,EAAUV,UAAM,OAAQ,GAAQ,WACrC,IAAIsD,EAAQtD,KAEZ,OAAO4B,EAAY5B,MAAM,SAAUyJ,GACjC,MAAO,CAAC,EAEN,IAAI1I,SAAQ,SAAUC,EAASqF,GAC/B/C,EAAMgE,oBAAqB,EAC3BiG,YAAW,WACTjK,EAAMgE,oBAAqB,EAC3BtG,MACC,gBAMXiG,EAAQlC,UAAUyI,SAAW,WAC3B,MAAO,8uBAGTvG,EAAQlC,UAAU0I,WAAa,WAC7B,OAAO5I,OAAOpE,EAA0D,EAAjEoE,CAAoE,MAAO,CAChF6I,MAAO,6BACPlH,MAAO,MACPE,OAAQ,MACRiH,QAAS,eACR9I,OAAOpE,EAA0D,EAAjEoE,CAAoE,QAAS,KAAM,iBAAkBA,OAAOpE,EAA0D,EAAjEoE,CAAoE,OAAQ,CAClLtE,EAAG,maACDsE,OAAOpE,EAA0D,EAAjEoE,CAAoE,OAAQ,CAC9EtE,EAAG,kHAIP0G,EAAQlC,UAAU6I,YAAc,WAC9B,MAAO,2mBAGT3G,EAAQlC,UAAU8I,kBAAoB,WACpC,MAAO,spCAGT5G,EAAQlC,UAAU+I,WAAa,WAC7B,MAAO,syBAGT7G,EAAQlC,UAAUgJ,aAAe,WAC/B,MAAO,wqBAGT9G,EAAQlC,UAAUiJ,YAAc,WAC9B,MAAO,2iBAGT/G,EAAQlC,UAAUkJ,cAAgB,WAChC,MAAO,wsBAGThH,EAAQlC,UAAUmJ,OAAS,WACzB,IAAI5K,EAAQtD,KAIZ,OAAO6E,OAAOpE,EAA0D,EAAjEoE,CAAoE,MAAO,CAChFsJ,MAAO,kBACNtJ,OAAOpE,EAA0D,EAAjEoE,CAAoE,MAAO,CAC5EsJ,MAAO,iBACNtJ,OAAOpE,EAA0D,EAAjEoE,CAAoE,UAAW,CAChFsJ,MAAO,SACNtJ,OAAOpE,EAA0D,EAAjEoE,CAAoE,MAAO,CAC5EsJ,MAAO,aACPC,QAAS,SAAiB9M,GACxB,OAAOgC,EAAMiF,YAAYjH,KAE1BuD,OAAOpE,EAA0D,EAAjEoE,CAAoE,MAAO,CAC5ET,IAAKpE,KAAKwN,cACP3I,OAAOpE,EAA0D,EAAjEoE,CAAoE,MAAO,CAC9EsJ,MAAO,aACPC,QAAS,SAAiB9M,GACxB,OAAOgC,EAAMmF,iBAAiBnH,KAE/BtB,KAAK6H,WAAW3E,OAAS,GAAK2B,OAAOpE,EAA0D,EAAjEoE,CAAoE,MAAO,KAAwB,OAAlB7E,KAAK8H,UAAqBjD,OAAOpE,EAA0D,EAAjEoE,CAAoE,MAAO,CACrNT,IAAKpE,KAAK+N,iBACP,GAAsB,QAAlB/N,KAAK8H,UAAsBjD,OAAOpE,EAA0D,EAAjEoE,CAAoE,MAAO,CAC7GT,IAAKpE,KAAKiO,kBACP,GAAsB,SAAlBjO,KAAK8H,UAAuBjD,OAAOpE,EAA0D,EAAjEoE,CAAoE,MAAO,CAC9GT,IAAKpE,KAAKgO,gBACP,SAA4B,IAAnBhO,KAAKwH,aAAyBxH,KAAK0H,cAAgB7C,OAAOpE,EAA0D,EAAjEoE,CAAoE,MAAO,CAC1IsJ,MAAO,aACNtJ,OAAOpE,EAA0D,EAAjEoE,CAAoE,KAAM,KAAM7E,KAAKoH,eAAgBvC,OAAOpE,EAA0D,EAAjEoE,CAAoE,QAAS,CACnLwJ,QAAS,8BACRrO,KAAKqH,qBAAsBxC,OAAOpE,EAA0D,EAAjEoE,CAAoE,QAAS,CACzGyJ,KAAM,OACNC,GAAI,6BACJC,SAAUxO,KAAKqJ,sBACfoF,OAAQ,UACRN,MAAO,wBACJnO,KAAKiJ,MAAQpE,OAAOpE,EAA0D,EAAjEoE,CAAoE,MAAO,CAC3FsJ,MAAO,UACNtJ,OAAOpE,EAA0D,EAAjEoE,CAAoE,MAAO,CAC5EsJ,MAAO,eACPO,MAAO7J,OAAOqG,OAAO,CACnByD,gBAAiB,OAAS3O,KAAKqK,SAAW,KAxC3B,OA0CbxF,OAAOpE,EAA0D,EAAjEoE,CAAoE,MAAO,CAC/EsJ,MAAO,gBACNnO,KAAKsH,oBAAsBzC,OAAOpE,EAA0D,EAAjEoE,CAAoE,MAAO,CACvGsJ,MAAO,oBACLnO,KAAKuK,kBAAoB1F,OAAOpE,EAA0D,EAAjEoE,CAAoE,QAAS,CACxG+J,IAAK,SAAanD,GAChB,OAAOnI,EAAMO,aAAe4H,GAE9BoD,iBAAkB7O,KAAK8J,oBACvBgF,UAAU,EACVC,aAAa,IACVlK,OAAOpE,EAA0D,EAAjEoE,CAAoE,SAAU,CACjF+J,IAAK,SAAanD,GAChB,OAAOnI,EAAMoB,cAAgB+G,GAE/BjF,MAAO,OACPE,OAAQ,SACN7B,OAAOpE,EAA0D,EAAjEoE,CAAoE,SAAU,CAChFsJ,MAAO,yBACPS,IAAK,SAAatN,GAChB,OAAOgC,EAAM0L,gBAAkB1N,GAEjCkF,MAAO,OACPE,OAAQ,UACL1G,KAAKwH,WAAa3C,OAAOpE,EAA0D,EAAjEoE,CAAoE,MAAO,CAChGsJ,MAAO,iBACLnO,KAAKiJ,MAqBFpE,OAAOpE,EAA0D,EAAjEoE,CAAoE,UAAW,CACpFsJ,MAAO,SACNtJ,OAAOpE,EAA0D,EAAjEoE,CAAoE,MAAO,CAC5EsJ,MAAO,qBACPC,QAAS,SAAiB9M,GACxB,OAAOgC,EAAMqF,kBAAkBrH,KAEhCuD,OAAOpE,EAA0D,EAAjEoE,CAAoE,MAAO,CAC5ET,IAAKpE,KAAK8N,gBACPjJ,OAAOpE,EAA0D,EAAjEoE,CAAoE,MAAO,CAC9EsJ,MAAO,kBACPC,QAAS,SAAiB9M,GACxB,OAAOgC,EAAM8F,kBAAkB9H,KAEhCuD,OAAOpE,EAA0D,EAAjEoE,CAAoE,MAAO,CAC5ET,IAAKpE,KAAK4N,kBApCK,CAAC/I,OAAOpE,EAA0D,EAAjEoE,CAAoE,MAAO,CAC3FsJ,MAAO,aACPC,QAASpO,KAAK+H,gBACblD,OAAOpE,EAA0D,EAAjEoE,CAAoE,QAAS,CAC9EwJ,QAAS,2BACRrO,KAAKyN,cAAe5I,OAAOpE,EAA0D,EAAjEoE,CAAoE,QAAS,CAClGyJ,KAAM,OACNC,GAAI,0BACJC,SAAUxO,KAAKqJ,sBACfoF,OAAQ,UACRN,MAAO,uBACJtJ,OAAOpE,EAA0D,EAAjEoE,CAAoE,MAAO,CAC9EsJ,MAAO,UACPC,QAASpO,KAAKiI,oBACbpD,OAAOpE,EAA0D,EAAjEoE,CAAoE,MAAO,CAC5EsJ,MAAO,oBACJtJ,OAAOpE,EAA0D,EAAjEoE,CAAoE,MAAO,CAC9EsJ,MAAO,SACPC,QAASpO,KAAKqI,mBACbxD,OAAOpE,EAA0D,EAAjEoE,CAAoE,MAAO,CAC5ET,IAAKpE,KAAK6N,2BAoBdhJ,OAAOC,eAAemC,EAAS,aAAc,CAC3CjC,IAAK,WACH,MAAO,CAAC,UAEVC,YAAY,EACZC,cAAc,IAEhBL,OAAOC,eAAemC,EAAQlC,UAAW,KAAM,CAC7CC,IAAK,WACH,OAAOH,OAAOpE,EAA0D,EAAjEoE,CAAoE7E,OAE7EiF,YAAY,EACZC,cAAc,IAEhBL,OAAOC,eAAemC,EAAS,QAAS,CACtCjC,IAAK,WACH,MAAO,mjHAETC,YAAY,EACZC,cAAc,IAET+B,EAvsBT"},"input":"(this[\"webpackJsonpfront-lamar\"] = this[\"webpackJsonpfront-lamar\"] || []).push([[62],{\n\n/***/ 208:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"pwa_camera\", function() { return CameraPWA; });\n/* harmony import */ var _core_f86805ad_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(54);\nvar __awaiter = undefined && undefined.__awaiter || function (thisArg, _arguments, P, generator) {\n  function adopt(value) {\n    return value instanceof P ? value : new P(function (resolve) {\n      resolve(value);\n    });\n  }\n\n  return new (P || (P = Promise))(function (resolve, reject) {\n    function fulfilled(value) {\n      try {\n        step(generator.next(value));\n      } catch (e) {\n        reject(e);\n      }\n    }\n\n    function rejected(value) {\n      try {\n        step(generator[\"throw\"](value));\n      } catch (e) {\n        reject(e);\n      }\n    }\n\n    function step(result) {\n      result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected);\n    }\n\n    step((generator = generator.apply(thisArg, _arguments || [])).next());\n  });\n};\n\nvar __generator = undefined && undefined.__generator || function (thisArg, body) {\n  var _ = {\n    label: 0,\n    sent: function sent() {\n      if (t[0] & 1) throw t[1];\n      return t[1];\n    },\n    trys: [],\n    ops: []\n  },\n      f,\n      y,\n      t,\n      g;\n  return g = {\n    next: verb(0),\n    \"throw\": verb(1),\n    \"return\": verb(2)\n  }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function () {\n    return this;\n  }), g;\n\n  function verb(n) {\n    return function (v) {\n      return step([n, v]);\n    };\n  }\n\n  function step(op) {\n    if (f) throw new TypeError(\"Generator is already executing.\");\n\n    while (_) {\n      try {\n        if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n        if (y = 0, t) op = [op[0] & 2, t.value];\n\n        switch (op[0]) {\n          case 0:\n          case 1:\n            t = op;\n            break;\n\n          case 4:\n            _.label++;\n            return {\n              value: op[1],\n              done: false\n            };\n\n          case 5:\n            _.label++;\n            y = op[1];\n            op = [0];\n            continue;\n\n          case 7:\n            op = _.ops.pop();\n\n            _.trys.pop();\n\n            continue;\n\n          default:\n            if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) {\n              _ = 0;\n              continue;\n            }\n\n            if (op[0] === 3 && (!t || op[1] > t[0] && op[1] < t[3])) {\n              _.label = op[1];\n              break;\n            }\n\n            if (op[0] === 6 && _.label < t[1]) {\n              _.label = t[1];\n              t = op;\n              break;\n            }\n\n            if (t && _.label < t[2]) {\n              _.label = t[2];\n\n              _.ops.push(op);\n\n              break;\n            }\n\n            if (t[2]) _.ops.pop();\n\n            _.trys.pop();\n\n            continue;\n        }\n\n        op = body.call(thisArg, _);\n      } catch (e) {\n        op = [6, e];\n        y = 0;\n      } finally {\n        f = t = 0;\n      }\n    }\n\n    if (op[0] & 5) throw op[1];\n    return {\n      value: op[0] ? op[1] : void 0,\n      done: true\n    };\n  }\n};\n\n\n/**\n * MediaStream ImageCapture polyfill\n *\n * @license\n * Copyright 2018 Google Inc.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nvar ImageCapture = window.ImageCapture;\n\nif (typeof ImageCapture === 'undefined') {\n  ImageCapture =\n  /** @class */\n  function () {\n    /**\n     * TODO https://www.w3.org/TR/image-capture/#constructors\n     *\n     * @param {MediaStreamTrack} videoStreamTrack - A MediaStreamTrack of the 'video' kind\n     */\n    function ImageCapture(videoStreamTrack) {\n      var _this = this;\n\n      if (videoStreamTrack.kind !== 'video') throw new DOMException('NotSupportedError');\n      this._videoStreamTrack = videoStreamTrack;\n\n      if (!('readyState' in this._videoStreamTrack)) {\n        // Polyfill for Firefox\n        this._videoStreamTrack.readyState = 'live';\n      } // MediaStream constructor not available until Chrome 55 - https://www.chromestatus.com/feature/5912172546752512\n\n\n      this._previewStream = new MediaStream([videoStreamTrack]);\n      this.videoElement = document.createElement('video');\n      this.videoElementPlaying = new Promise(function (resolve) {\n        _this.videoElement.addEventListener('playing', resolve);\n      });\n\n      if (HTMLMediaElement) {\n        this.videoElement.srcObject = this._previewStream; // Safari 11 doesn't allow use of createObjectURL for MediaStream\n      } else {\n        this.videoElement.src = URL.createObjectURL(this._previewStream);\n      }\n\n      this.videoElement.muted = true;\n      this.videoElement.setAttribute('playsinline', ''); // Required by Safari on iOS 11. See https://webkit.org/blog/6784\n\n      this.videoElement.play();\n      this.canvasElement = document.createElement('canvas'); // TODO Firefox has https://developer.mozilla.org/en-US/docs/Web/API/OffscreenCanvas\n\n      this.canvas2dContext = this.canvasElement.getContext('2d');\n    }\n\n    Object.defineProperty(ImageCapture.prototype, \"videoStreamTrack\", {\n      /**\n       * https://w3c.github.io/mediacapture-image/index.html#dom-imagecapture-videostreamtrack\n       * @return {MediaStreamTrack} The MediaStreamTrack passed into the constructor\n       */\n      get: function get() {\n        return this._videoStreamTrack;\n      },\n      enumerable: true,\n      configurable: true\n    });\n    /**\n     * Implements https://www.w3.org/TR/image-capture/#dom-imagecapture-getphotocapabilities\n     * @return {Promise<PhotoCapabilities>} Fulfilled promise with\n     * [PhotoCapabilities](https://www.w3.org/TR/image-capture/#idl-def-photocapabilities)\n     * object on success, rejected promise on failure\n     */\n\n    ImageCapture.prototype.getPhotoCapabilities = function () {\n      return new Promise(function executorGPC(resolve, reject) {\n        // TODO see https://github.com/w3c/mediacapture-image/issues/97\n        var MediaSettingsRange = {\n          current: 0,\n          min: 0,\n          max: 0\n        };\n        resolve({\n          exposureCompensation: MediaSettingsRange,\n          exposureMode: 'none',\n          fillLightMode: ['none'],\n          focusMode: 'none',\n          imageHeight: MediaSettingsRange,\n          imageWidth: MediaSettingsRange,\n          iso: MediaSettingsRange,\n          redEyeReduction: false,\n          whiteBalanceMode: 'none',\n          zoom: MediaSettingsRange\n        });\n        reject(new DOMException('OperationError'));\n      });\n    };\n    /**\n     * Implements https://www.w3.org/TR/image-capture/#dom-imagecapture-setoptions\n     * @param {Object} photoSettings - Photo settings dictionary, https://www.w3.org/TR/image-capture/#idl-def-photosettings\n     * @return {Promise<void>} Fulfilled promise on success, rejected promise on failure\n     */\n\n\n    ImageCapture.prototype.setOptions = function (_photoSettings) {\n      if (_photoSettings === void 0) {\n        _photoSettings = {};\n      }\n\n      return new Promise(function executorSO(_resolve, _reject) {// TODO\n      });\n    };\n    /**\n     * TODO\n     * Implements https://www.w3.org/TR/image-capture/#dom-imagecapture-takephoto\n     * @return {Promise<Blob>} Fulfilled promise with [Blob](https://www.w3.org/TR/FileAPI/#blob)\n     * argument on success; rejected promise on failure\n     */\n\n\n    ImageCapture.prototype.takePhoto = function () {\n      var self = this;\n      return new Promise(function executorTP(resolve, reject) {\n        // `If the readyState of the MediaStreamTrack provided in the constructor is not live,\n        // return a promise rejected with a new DOMException whose name is \"InvalidStateError\".`\n        if (self._videoStreamTrack.readyState !== 'live') {\n          return reject(new DOMException('InvalidStateError'));\n        }\n\n        self.videoElementPlaying.then(function () {\n          try {\n            self.canvasElement.width = self.videoElement.videoWidth;\n            self.canvasElement.height = self.videoElement.videoHeight;\n            self.canvas2dContext.drawImage(self.videoElement, 0, 0);\n            self.canvasElement.toBlob(resolve);\n          } catch (error) {\n            reject(new DOMException('UnknownError'));\n          }\n        });\n      });\n    };\n    /**\n     * Implements https://www.w3.org/TR/image-capture/#dom-imagecapture-grabframe\n     * @return {Promise<ImageBitmap>} Fulfilled promise with\n     * [ImageBitmap](https://www.w3.org/TR/html51/webappapis.html#webappapis-images)\n     * argument on success; rejected promise on failure\n     */\n\n\n    ImageCapture.prototype.grabFrame = function () {\n      var self = this;\n      return new Promise(function executorGF(resolve, reject) {\n        // `If the readyState of the MediaStreamTrack provided in the constructor is not live,\n        // return a promise rejected with a new DOMException whose name is \"InvalidStateError\".`\n        if (self._videoStreamTrack.readyState !== 'live') {\n          return reject(new DOMException('InvalidStateError'));\n        }\n\n        self.videoElementPlaying.then(function () {\n          try {\n            self.canvasElement.width = self.videoElement.videoWidth;\n            self.canvasElement.height = self.videoElement.videoHeight;\n            self.canvas2dContext.drawImage(self.videoElement, 0, 0); // TODO polyfill https://developer.mozilla.org/en-US/docs/Web/API/ImageBitmapFactories/createImageBitmap for IE\n\n            resolve(window.createImageBitmap(self.canvasElement));\n          } catch (error) {\n            reject(new DOMException('UnknownError'));\n          }\n        });\n      });\n    };\n\n    return ImageCapture;\n  }();\n}\n\nwindow.ImageCapture = ImageCapture;\n\nvar CameraPWA =\n/** @class */\nfunction () {\n  function class_1(hostRef) {\n    var _this = this;\n\n    Object(_core_f86805ad_js__WEBPACK_IMPORTED_MODULE_0__[/* r */ \"h\"])(this, hostRef);\n    this.facingMode = 'user';\n    this.noDevicesText = 'No camera found';\n    this.noDevicesButtonText = 'Choose image';\n    this.showShutterOverlay = false;\n    this.flashIndex = 0;\n    this.hasCamera = null;\n    this.rotation = 0;\n    this.deviceError = null; // Whether the device has multiple cameras (front/back)\n\n    this.hasMultipleCameras = false; // Whether the device has flash support\n\n    this.hasFlash = false; // Flash modes for camera\n\n    this.flashModes = []; // Current flash mode\n\n    this.flashMode = 'off';\n\n    this.handlePickFile = function (_e) {};\n\n    this.handleShutterClick = function (_e) {\n      console.log();\n\n      _this.capture();\n    };\n\n    this.handleRotateClick = function (_e) {\n      _this.rotate();\n    };\n\n    this.handleClose = function (_e) {\n      _this.handlePhoto && _this.handlePhoto(null);\n    };\n\n    this.handleFlashClick = function (_e) {\n      _this.cycleFlash();\n    };\n\n    this.handleCancelPhoto = function (_e) {\n      var track = _this.stream && _this.stream.getTracks()[0];\n\n      var c = track && track.getConstraints();\n      _this.photo = null;\n\n      if (c) {\n        _this.initCamera({\n          video: {\n            facingMode: c.facingMode\n          }\n        });\n      } else {\n        _this.initCamera();\n      }\n    };\n\n    this.handleAcceptPhoto = function (_e) {\n      _this.handlePhoto && _this.handlePhoto(_this.photo);\n    };\n\n    this.handleFileInputChange = function (e) {\n      return __awaiter(_this, void 0, void 0, function () {\n        var input, file, orientation, e_1;\n        return __generator(this, function (_a) {\n          switch (_a.label) {\n            case 0:\n              input = e.target;\n              file = input.files[0];\n              _a.label = 1;\n\n            case 1:\n              _a.trys.push([1, 3,, 4]);\n\n              return [4\n              /*yield*/\n              , this.getOrientation(file)];\n\n            case 2:\n              orientation = _a.sent();\n              console.log('Got orientation', orientation);\n              this.photoOrientation = orientation;\n              return [3\n              /*break*/\n              , 4];\n\n            case 3:\n              e_1 = _a.sent();\n              return [3\n              /*break*/\n              , 4];\n\n            case 4:\n              this.handlePhoto && this.handlePhoto(file);\n              return [2\n              /*return*/\n              ];\n          }\n        });\n      });\n    };\n\n    this.handleVideoMetadata = function (e) {\n      console.log('Video metadata', e);\n    };\n\n    this.isServer = Object(_core_f86805ad_js__WEBPACK_IMPORTED_MODULE_0__[/* d */ \"e\"])(this, \"isServer\");\n  }\n\n  class_1.prototype.componentDidLoad = function () {\n    return __awaiter(this, void 0, void 0, function () {\n      return __generator(this, function (_a) {\n        switch (_a.label) {\n          case 0:\n            if (this.isServer) {\n              return [2\n              /*return*/\n              ];\n            }\n\n            this.defaultConstraints = {\n              video: {\n                facingMode: this.facingMode\n              }\n            }; // Figure out how many cameras we have\n\n            return [4\n            /*yield*/\n            , this.queryDevices()];\n\n          case 1:\n            // Figure out how many cameras we have\n            _a.sent(); // Initialize the camera\n\n\n            return [4\n            /*yield*/\n            , this.initCamera()];\n\n          case 2:\n            // Initialize the camera\n            _a.sent();\n\n            return [2\n            /*return*/\n            ];\n        }\n      });\n    });\n  };\n\n  class_1.prototype.componentDidUnload = function () {\n    this.stopStream();\n    this.photoSrc && URL.revokeObjectURL(this.photoSrc);\n  };\n\n  class_1.prototype.hasImageCapture = function () {\n    return 'ImageCapture' in window;\n  };\n  /**\n   * Query the list of connected devices and figure out how many video inputs we have.\n   */\n\n\n  class_1.prototype.queryDevices = function () {\n    return __awaiter(this, void 0, void 0, function () {\n      var devices, videoDevices, e_2;\n      return __generator(this, function (_a) {\n        switch (_a.label) {\n          case 0:\n            _a.trys.push([0, 2,, 3]);\n\n            return [4\n            /*yield*/\n            , navigator.mediaDevices.enumerateDevices()];\n\n          case 1:\n            devices = _a.sent();\n            videoDevices = devices.filter(function (d) {\n              return d.kind == 'videoinput';\n            });\n            this.hasCamera = !!videoDevices.length;\n            this.hasMultipleCameras = videoDevices.length > 1;\n            return [3\n            /*break*/\n            , 3];\n\n          case 2:\n            e_2 = _a.sent();\n            this.deviceError = e_2;\n            return [3\n            /*break*/\n            , 3];\n\n          case 3:\n            return [2\n            /*return*/\n            ];\n        }\n      });\n    });\n  };\n\n  class_1.prototype.initCamera = function (constraints) {\n    return __awaiter(this, void 0, void 0, function () {\n      var stream, e_3;\n      return __generator(this, function (_a) {\n        switch (_a.label) {\n          case 0:\n            if (!constraints) {\n              constraints = this.defaultConstraints;\n            }\n\n            _a.label = 1;\n\n          case 1:\n            _a.trys.push([1, 3,, 4]);\n\n            return [4\n            /*yield*/\n            , navigator.mediaDevices.getUserMedia(Object.assign({\n              video: true,\n              audio: false\n            }, constraints))];\n\n          case 2:\n            stream = _a.sent();\n            this.initStream(stream);\n            return [3\n            /*break*/\n            , 4];\n\n          case 3:\n            e_3 = _a.sent();\n            this.deviceError = e_3;\n            this.handleNoDeviceError && this.handleNoDeviceError(e_3);\n            return [3\n            /*break*/\n            , 4];\n\n          case 4:\n            return [2\n            /*return*/\n            ];\n        }\n      });\n    });\n  };\n\n  class_1.prototype.initStream = function (stream) {\n    return __awaiter(this, void 0, void 0, function () {\n      return __generator(this, function (_a) {\n        switch (_a.label) {\n          case 0:\n            this.stream = stream;\n            this.videoElement.srcObject = stream;\n            if (!this.hasImageCapture()) return [3\n            /*break*/\n            , 2];\n            this.imageCapture = new window.ImageCapture(stream.getVideoTracks()[0]);\n            return [4\n            /*yield*/\n            , this.initPhotoCapabilities(this.imageCapture)];\n\n          case 1:\n            _a.sent();\n\n            return [3\n            /*break*/\n            , 3];\n\n          case 2:\n            this.deviceError = 'No image capture';\n            this.handleNoDeviceError && this.handleNoDeviceError();\n            _a.label = 3;\n\n          case 3:\n            // Always re-render\n            this.el.forceUpdate();\n            return [2\n            /*return*/\n            ];\n        }\n      });\n    });\n  };\n\n  class_1.prototype.initPhotoCapabilities = function (imageCapture) {\n    return __awaiter(this, void 0, void 0, function () {\n      var c;\n      return __generator(this, function (_a) {\n        switch (_a.label) {\n          case 0:\n            return [4\n            /*yield*/\n            , imageCapture.getPhotoCapabilities()];\n\n          case 1:\n            c = _a.sent();\n\n            if (c.fillLightMode && c.fillLightMode.length > 1) {\n              this.flashModes = c.fillLightMode.map(function (m) {\n                return m;\n              }); // Try to recall the current flash mode\n\n              if (this.flashMode) {\n                this.flashMode = this.flashModes[this.flashModes.indexOf(this.flashMode)] || 'off';\n                this.flashIndex = this.flashModes.indexOf(this.flashMode) || 0;\n              } else {\n                this.flashIndex = 0;\n              }\n            }\n\n            return [2\n            /*return*/\n            ];\n        }\n      });\n    });\n  };\n\n  class_1.prototype.stopStream = function () {\n    this.stream && this.stream.getTracks().forEach(function (track) {\n      return track.stop();\n    });\n  };\n\n  class_1.prototype.capture = function () {\n    return __awaiter(this, void 0, void 0, function () {\n      var photo, e_4;\n      return __generator(this, function (_a) {\n        switch (_a.label) {\n          case 0:\n            if (!this.hasImageCapture()) return [3\n            /*break*/\n            , 5];\n            _a.label = 1;\n\n          case 1:\n            _a.trys.push([1, 4,, 5]);\n\n            return [4\n            /*yield*/\n            , this.imageCapture.takePhoto({\n              fillLightMode: this.flashModes.length > 1 ? this.flashMode : undefined\n            })];\n\n          case 2:\n            photo = _a.sent();\n            return [4\n            /*yield*/\n            , this.flashScreen()];\n\n          case 3:\n            _a.sent();\n\n            this.promptAccept(photo);\n            return [3\n            /*break*/\n            , 5];\n\n          case 4:\n            e_4 = _a.sent();\n            console.error('Unable to take photo!', e_4);\n            return [3\n            /*break*/\n            , 5];\n\n          case 5:\n            this.stopStream();\n            return [2\n            /*return*/\n            ];\n        }\n      });\n    });\n  };\n\n  class_1.prototype.promptAccept = function (photo) {\n    return __awaiter(this, void 0, void 0, function () {\n      var orientation;\n      return __generator(this, function (_a) {\n        switch (_a.label) {\n          case 0:\n            this.photo = photo;\n            return [4\n            /*yield*/\n            , this.getOrientation(photo)];\n\n          case 1:\n            orientation = _a.sent();\n            console.log('Got orientation', orientation);\n            this.photoOrientation = orientation;\n\n            if (orientation) {\n              switch (orientation) {\n                case 1:\n                case 2:\n                  this.rotation = 0;\n                  break;\n\n                case 3:\n                case 4:\n                  this.rotation = 180;\n                  break;\n\n                case 5:\n                case 6:\n                  this.rotation = 90;\n                  break;\n\n                case 7:\n                case 8:\n                  this.rotation = 270;\n                  break;\n              }\n            }\n\n            this.photoSrc = URL.createObjectURL(photo);\n            return [2\n            /*return*/\n            ];\n        }\n      });\n    });\n  };\n\n  class_1.prototype.getOrientation = function (file) {\n    return new Promise(function (resolve) {\n      var reader = new FileReader();\n\n      reader.onload = function (event) {\n        var view = new DataView(event.target.result);\n\n        if (view.getUint16(0, false) !== 0xFFD8) {\n          return resolve(-2);\n        }\n\n        var length = view.byteLength;\n        var offset = 2;\n\n        while (offset < length) {\n          var marker = view.getUint16(offset, false);\n          offset += 2;\n\n          if (marker === 0xFFE1) {\n            if (view.getUint32(offset += 2, false) !== 0x45786966) {\n              return resolve(-1);\n            }\n\n            var little = view.getUint16(offset += 6, false) === 0x4949;\n            offset += view.getUint32(offset + 4, little);\n            var tags = view.getUint16(offset, little);\n            offset += 2;\n\n            for (var i = 0; i < tags; i++) {\n              if (view.getUint16(offset + i * 12, little) === 0x0112) {\n                return resolve(view.getUint16(offset + i * 12 + 8, little));\n              }\n            }\n          } else if ((marker & 0xFF00) !== 0xFF00) {\n            break;\n          } else {\n            offset += view.getUint16(offset, false);\n          }\n        }\n\n        return resolve(-1);\n      };\n\n      reader.readAsArrayBuffer(file.slice(0, 64 * 1024));\n    });\n  };\n\n  class_1.prototype.rotate = function () {\n    this.stopStream();\n    var track = this.stream && this.stream.getTracks()[0];\n\n    if (!track) {\n      return;\n    }\n\n    var c = track.getConstraints();\n    var facingMode = c.facingMode;\n\n    if (!facingMode) {\n      var c_1 = track.getCapabilities();\n      facingMode = c_1.facingMode[0];\n    }\n\n    if (facingMode === 'environment') {\n      this.initCamera({\n        video: {\n          facingMode: 'user'\n        }\n      });\n    } else {\n      this.initCamera({\n        video: {\n          facingMode: 'environment'\n        }\n      });\n    }\n  };\n\n  class_1.prototype.setFlashMode = function (mode) {\n    console.log('New flash mode: ', mode);\n    this.flashMode = mode;\n  };\n\n  class_1.prototype.cycleFlash = function () {\n    if (this.flashModes.length > 0) {\n      this.flashIndex = (this.flashIndex + 1) % this.flashModes.length;\n      this.setFlashMode(this.flashModes[this.flashIndex]);\n    }\n  };\n\n  class_1.prototype.flashScreen = function () {\n    return __awaiter(this, void 0, void 0, function () {\n      var _this = this;\n\n      return __generator(this, function (_a) {\n        return [2\n        /*return*/\n        , new Promise(function (resolve, _reject) {\n          _this.showShutterOverlay = true;\n          setTimeout(function () {\n            _this.showShutterOverlay = false;\n            resolve();\n          }, 100);\n        })];\n      });\n    });\n  };\n\n  class_1.prototype.iconExit = function () {\n    return \"data:image/svg+xml,%3Csvg version='1.1' id='Layer_1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' x='0px' y='0px' viewBox='0 0 512 512' enable-background='new 0 0 512 512' xml:space='preserve'%3E%3Cg id='Icon_5_'%3E%3Cg%3E%3Cpath fill='%23FFFFFF' d='M402.2,134L378,109.8c-1.6-1.6-4.1-1.6-5.7,0L258.8,223.4c-1.6,1.6-4.1,1.6-5.7,0L139.6,109.8 c-1.6-1.6-4.1-1.6-5.7,0L109.8,134c-1.6,1.6-1.6,4.1,0,5.7l113.5,113.5c1.6,1.6,1.6,4.1,0,5.7L109.8,372.4c-1.6,1.6-1.6,4.1,0,5.7 l24.1,24.1c1.6,1.6,4.1,1.6,5.7,0l113.5-113.5c1.6-1.6,4.1-1.6,5.7,0l113.5,113.5c1.6,1.6,4.1,1.6,5.7,0l24.1-24.1 c1.6-1.6,1.6-4.1,0-5.7L288.6,258.8c-1.6-1.6-1.6-4.1,0-5.7l113.5-113.5C403.7,138.1,403.7,135.5,402.2,134z'/%3E%3C/g%3E%3C/g%3E%3C/svg%3E\";\n  };\n\n  class_1.prototype.iconPhotos = function () {\n    return Object(_core_f86805ad_js__WEBPACK_IMPORTED_MODULE_0__[/* h */ \"g\"])(\"svg\", {\n      xmlns: 'http://www.w3.org/2000/svg',\n      width: '512',\n      height: '512',\n      viewBox: '0 0 512 512'\n    }, Object(_core_f86805ad_js__WEBPACK_IMPORTED_MODULE_0__[/* h */ \"g\"])(\"title\", null, \"ionicons-v5-e\"), Object(_core_f86805ad_js__WEBPACK_IMPORTED_MODULE_0__[/* h */ \"g\"])(\"path\", {\n      d: 'M450.29,112H142c-34,0-62,27.51-62,61.33V418.67C80,452.49,108,480,142,480H450c34,0,62-26.18,62-60V173.33C512,139.51,484.32,112,450.29,112Zm-77.15,61.34a46,46,0,1,1-46.28,46A46.19,46.19,0,0,1,373.14,173.33Zm-231.55,276c-17,0-29.86-13.75-29.86-30.66V353.85l90.46-80.79a46.54,46.54,0,0,1,63.44,1.83L328.27,337l-113,112.33ZM480,418.67a30.67,30.67,0,0,1-30.71,30.66H259L376.08,333a46.24,46.24,0,0,1,59.44-.16L480,370.59Z'\n    }), Object(_core_f86805ad_js__WEBPACK_IMPORTED_MODULE_0__[/* h */ \"g\"])(\"path\", {\n      d: 'M384,32H64A64,64,0,0,0,0,96V352a64.11,64.11,0,0,0,48,62V152a72,72,0,0,1,72-72H446A64.11,64.11,0,0,0,384,32Z'\n    }));\n  };\n\n  class_1.prototype.iconConfirm = function () {\n    return \"data:image/svg+xml,%3Csvg version='1.1' id='Layer_1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' x='0px' y='0px' viewBox='0 0 512 512' enable-background='new 0 0 512 512' xml:space='preserve'%3E%3Ccircle fill='%232CD865' cx='256' cy='256' r='256'/%3E%3Cg id='Icon_1_'%3E%3Cg%3E%3Cg%3E%3Cpath fill='%23FFFFFF' d='M208,301.4l-55.4-55.5c-1.5-1.5-4-1.6-5.6-0.1l-23.4,22.3c-1.6,1.6-1.7,4.1-0.1,5.7l81.6,81.4 c3.1,3.1,8.2,3.1,11.3,0l171.8-171.7c1.6-1.6,1.6-4.2-0.1-5.7l-23.4-22.3c-1.6-1.5-4.1-1.5-5.6,0.1L213.7,301.4 C212.1,303,209.6,303,208,301.4z'/%3E%3C/g%3E%3C/g%3E%3C/g%3E%3C/svg%3E\";\n  };\n\n  class_1.prototype.iconReverseCamera = function () {\n    return \"data:image/svg+xml,%3Csvg version='1.1' id='Layer_1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' x='0px' y='0px' viewBox='0 0 512 512' enable-background='new 0 0 512 512' xml:space='preserve'%3E%3Cg%3E%3Cpath fill='%23FFFFFF' d='M352,0H160C72,0,0,72,0,160v192c0,88,72,160,160,160h192c88,0,160-72,160-160V160C512,72,440,0,352,0z M356.7,365.8l-3.7,3.3c-27,23.2-61.4,35.9-96.8,35.9c-72.4,0-135.8-54.7-147-125.6c-0.3-1.9-2-3.3-3.9-3.3H64 c-3.3,0-5.2-3.8-3.2-6.4l61.1-81.4c1.6-2.1,4.7-2.1,6.4-0.1l63.3,81.4c2,2.6,0.2,6.5-3.2,6.5h-40.6c-2.5,0-4.5,2.4-3.9,4.8 c11.5,51.5,59.2,90.6,112.4,90.6c26.4,0,51.8-9.7,73.7-27.9l3.1-2.5c1.6-1.3,3.9-1.1,5.3,0.3l18.5,18.6 C358.5,361.6,358.4,364.3,356.7,365.8z M451.4,245.6l-61,83.5c-1.6,2.2-4.8,2.2-6.4,0.1l-63.3-83.3c-2-2.6-0.1-6.4,3.2-6.4h40.8 c2.5,0,4.4-2.3,3.9-4.8c-5.1-24.2-17.8-46.5-36.5-63.7c-21.2-19.4-48.2-30.1-76-30.1c-26.5,0-52.6,9.7-73.7,27.3l-3.1,2.5 c-1.6,1.3-3.9,1.2-5.4-0.3l-18.5-18.5c-1.6-1.6-1.5-4.3,0.2-5.9l3.5-3.1c27-23.2,61.4-35.9,96.8-35.9c38,0,73.9,13.7,101.2,38.7 c23.2,21.1,40.3,55.2,45.7,90.1c0.3,1.9,1.9,3.4,3.9,3.4h41.3C451.4,239.2,453.3,243,451.4,245.6z'/%3E%3C/g%3E%3C/svg%3E\";\n  };\n\n  class_1.prototype.iconRetake = function () {\n    return \"data:image/svg+xml,%3Csvg version='1.1' id='Layer_1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' x='0px' y='0px' viewBox='0 0 512 512' enable-background='new 0 0 512 512' xml:space='preserve'%3E%3Ccircle fill='%23727A87' cx='256' cy='256' r='256'/%3E%3Cg id='Icon_5_'%3E%3Cg%3E%3Cpath fill='%23FFFFFF' d='M394.2,142L370,117.8c-1.6-1.6-4.1-1.6-5.7,0L258.8,223.4c-1.6,1.6-4.1,1.6-5.7,0L147.6,117.8 c-1.6-1.6-4.1-1.6-5.7,0L117.8,142c-1.6,1.6-1.6,4.1,0,5.7l105.5,105.5c1.6,1.6,1.6,4.1,0,5.7L117.8,364.4c-1.6,1.6-1.6,4.1,0,5.7 l24.1,24.1c1.6,1.6,4.1,1.6,5.7,0l105.5-105.5c1.6-1.6,4.1-1.6,5.7,0l105.5,105.5c1.6,1.6,4.1,1.6,5.7,0l24.1-24.1 c1.6-1.6,1.6-4.1,0-5.7L288.6,258.8c-1.6-1.6-1.6-4.1,0-5.7l105.5-105.5C395.7,146.1,395.7,143.5,394.2,142z'/%3E%3C/g%3E%3C/g%3E%3C/svg%3E\";\n  };\n\n  class_1.prototype.iconFlashOff = function () {\n    return \"data:image/svg+xml,%3Csvg version='1.1' id='Layer_1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' x='0px' y='0px' viewBox='0 0 512 512' style='enable-background:new 0 0 512 512;' xml:space='preserve'%3E%3Cstyle type='text/css'%3E .st0%7Bfill:%23FFFFFF;%7D%0A%3C/style%3E%3Cg%3E%3Cpath class='st0' d='M498,483.7L42.3,28L14,56.4l149.8,149.8L91,293.8c-2.5,3-0.1,7.2,3.9,7.2h143.9c1.6,0,2.7,1.3,2.4,2.7 L197.6,507c-1,4.4,5.8,6.9,8.9,3.2l118.6-142.8L469.6,512L498,483.7z'/%3E%3Cpath class='st0' d='M449,218.2c2.5-3,0.1-7.2-3.9-7.2H301.2c-1.6,0-2.7-1.3-2.4-2.7L342.4,5c1-4.4-5.8-6.9-8.9-3.2L214.9,144.6 l161.3,161.3L449,218.2z'/%3E%3C/g%3E%3C/svg%3E\";\n  };\n\n  class_1.prototype.iconFlashOn = function () {\n    return \"data:image/svg+xml,%3Csvg version='1.1' id='Layer_1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' x='0px' y='0px' viewBox='0 0 512 512' style='enable-background:new 0 0 512 512;' xml:space='preserve'%3E%3Cstyle type='text/css'%3E .st0%7Bfill:%23FFFFFF;%7D%0A%3C/style%3E%3Cpath class='st0' d='M287.2,211c-1.6,0-2.7-1.3-2.4-2.7L328.4,5c1-4.4-5.8-6.9-8.9-3.2L77,293.8c-2.5,3-0.1,7.2,3.9,7.2h143.9 c1.6,0,2.7,1.3,2.4,2.7L183.6,507c-1,4.4,5.8,6.9,8.9,3.2l242.5-292c2.5-3,0.1-7.2-3.9-7.2L287.2,211L287.2,211z'/%3E%3C/svg%3E\";\n  };\n\n  class_1.prototype.iconFlashAuto = function () {\n    return \"data:image/svg+xml,%3Csvg version='1.1' id='Layer_1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' x='0px' y='0px' viewBox='0 0 512 512' style='enable-background:new 0 0 512 512;' xml:space='preserve'%3E%3Cstyle type='text/css'%3E .st0%7Bfill:%23FFFFFF;%7D%0A%3C/style%3E%3Cpath class='st0' d='M287.2,211c-1.6,0-2.7-1.3-2.4-2.7L328.4,5c1-4.4-5.8-6.9-8.9-3.2L77,293.8c-2.5,3-0.1,7.2,3.9,7.2h143.9 c1.6,0,2.7,1.3,2.4,2.7L183.6,507c-1,4.4,5.8,6.9,8.9,3.2l242.5-292c2.5-3,0.1-7.2-3.9-7.2L287.2,211L287.2,211z'/%3E%3Cg%3E%3Cpath class='st0' d='M321.3,186l74-186H438l74,186h-43.5l-11.9-32.5h-80.9l-12,32.5H321.3z M415.8,47.9l-27.2,70.7h54.9l-27.2-70.7 H415.8z'/%3E%3C/g%3E%3C/svg%3E\";\n  };\n\n  class_1.prototype.render = function () {\n    var _this = this; // const acceptStyles = { transform: `rotate(${-this.rotation}deg)` };\n\n\n    var acceptStyles = {};\n    return Object(_core_f86805ad_js__WEBPACK_IMPORTED_MODULE_0__[/* h */ \"g\"])(\"div\", {\n      class: \"camera-wrapper\"\n    }, Object(_core_f86805ad_js__WEBPACK_IMPORTED_MODULE_0__[/* h */ \"g\"])(\"div\", {\n      class: \"camera-header\"\n    }, Object(_core_f86805ad_js__WEBPACK_IMPORTED_MODULE_0__[/* h */ \"g\"])(\"section\", {\n      class: \"items\"\n    }, Object(_core_f86805ad_js__WEBPACK_IMPORTED_MODULE_0__[/* h */ \"g\"])(\"div\", {\n      class: \"item close\",\n      onClick: function onClick(e) {\n        return _this.handleClose(e);\n      }\n    }, Object(_core_f86805ad_js__WEBPACK_IMPORTED_MODULE_0__[/* h */ \"g\"])(\"img\", {\n      src: this.iconExit()\n    })), Object(_core_f86805ad_js__WEBPACK_IMPORTED_MODULE_0__[/* h */ \"g\"])(\"div\", {\n      class: \"item flash\",\n      onClick: function onClick(e) {\n        return _this.handleFlashClick(e);\n      }\n    }, this.flashModes.length > 0 && Object(_core_f86805ad_js__WEBPACK_IMPORTED_MODULE_0__[/* h */ \"g\"])(\"div\", null, this.flashMode == 'off' ? Object(_core_f86805ad_js__WEBPACK_IMPORTED_MODULE_0__[/* h */ \"g\"])(\"img\", {\n      src: this.iconFlashOff()\n    }) : '', this.flashMode == 'auto' ? Object(_core_f86805ad_js__WEBPACK_IMPORTED_MODULE_0__[/* h */ \"g\"])(\"img\", {\n      src: this.iconFlashAuto()\n    }) : '', this.flashMode == 'flash' ? Object(_core_f86805ad_js__WEBPACK_IMPORTED_MODULE_0__[/* h */ \"g\"])(\"img\", {\n      src: this.iconFlashOn()\n    }) : '')))), (this.hasCamera === false || !!this.deviceError) && Object(_core_f86805ad_js__WEBPACK_IMPORTED_MODULE_0__[/* h */ \"g\"])(\"div\", {\n      class: \"no-device\"\n    }, Object(_core_f86805ad_js__WEBPACK_IMPORTED_MODULE_0__[/* h */ \"g\"])(\"h2\", null, this.noDevicesText), Object(_core_f86805ad_js__WEBPACK_IMPORTED_MODULE_0__[/* h */ \"g\"])(\"label\", {\n      htmlFor: \"_pwa-elements-camera-input\"\n    }, this.noDevicesButtonText), Object(_core_f86805ad_js__WEBPACK_IMPORTED_MODULE_0__[/* h */ \"g\"])(\"input\", {\n      type: \"file\",\n      id: \"_pwa-elements-camera-input\",\n      onChange: this.handleFileInputChange,\n      accept: \"image/*\",\n      class: \"select-file-button\"\n    })), this.photo ? Object(_core_f86805ad_js__WEBPACK_IMPORTED_MODULE_0__[/* h */ \"g\"])(\"div\", {\n      class: \"accept\"\n    }, Object(_core_f86805ad_js__WEBPACK_IMPORTED_MODULE_0__[/* h */ \"g\"])(\"div\", {\n      class: \"accept-image\",\n      style: Object.assign({\n        backgroundImage: \"url(\" + this.photoSrc + \")\"\n      }, acceptStyles)\n    })) : Object(_core_f86805ad_js__WEBPACK_IMPORTED_MODULE_0__[/* h */ \"g\"])(\"div\", {\n      class: \"camera-video\"\n    }, this.showShutterOverlay && Object(_core_f86805ad_js__WEBPACK_IMPORTED_MODULE_0__[/* h */ \"g\"])(\"div\", {\n      class: \"shutter-overlay\"\n    }), this.hasImageCapture() ? Object(_core_f86805ad_js__WEBPACK_IMPORTED_MODULE_0__[/* h */ \"g\"])(\"video\", {\n      ref: function ref(el) {\n        return _this.videoElement = el;\n      },\n      onLoadedMetaData: this.handleVideoMetadata,\n      autoplay: true,\n      playsinline: true\n    }) : Object(_core_f86805ad_js__WEBPACK_IMPORTED_MODULE_0__[/* h */ \"g\"])(\"canvas\", {\n      ref: function ref(el) {\n        return _this.canvasElement = el;\n      },\n      width: \"100%\",\n      height: \"100%\"\n    }), Object(_core_f86805ad_js__WEBPACK_IMPORTED_MODULE_0__[/* h */ \"g\"])(\"canvas\", {\n      class: \"offscreen-image-render\",\n      ref: function ref(e) {\n        return _this.offscreenCanvas = e;\n      },\n      width: \"100%\",\n      height: \"100%\"\n    })), this.hasCamera && Object(_core_f86805ad_js__WEBPACK_IMPORTED_MODULE_0__[/* h */ \"g\"])(\"div\", {\n      class: \"camera-footer\"\n    }, !this.photo ? [Object(_core_f86805ad_js__WEBPACK_IMPORTED_MODULE_0__[/* h */ \"g\"])(\"div\", {\n      class: \"pick-image\",\n      onClick: this.handlePickFile\n    }, Object(_core_f86805ad_js__WEBPACK_IMPORTED_MODULE_0__[/* h */ \"g\"])(\"label\", {\n      htmlFor: \"_pwa-elements-file-pick\"\n    }, this.iconPhotos()), Object(_core_f86805ad_js__WEBPACK_IMPORTED_MODULE_0__[/* h */ \"g\"])(\"input\", {\n      type: \"file\",\n      id: \"_pwa-elements-file-pick\",\n      onChange: this.handleFileInputChange,\n      accept: \"image/*\",\n      class: \"pick-image-button\"\n    })), Object(_core_f86805ad_js__WEBPACK_IMPORTED_MODULE_0__[/* h */ \"g\"])(\"div\", {\n      class: \"shutter\",\n      onClick: this.handleShutterClick\n    }, Object(_core_f86805ad_js__WEBPACK_IMPORTED_MODULE_0__[/* h */ \"g\"])(\"div\", {\n      class: \"shutter-button\"\n    })), Object(_core_f86805ad_js__WEBPACK_IMPORTED_MODULE_0__[/* h */ \"g\"])(\"div\", {\n      class: \"rotate\",\n      onClick: this.handleRotateClick\n    }, Object(_core_f86805ad_js__WEBPACK_IMPORTED_MODULE_0__[/* h */ \"g\"])(\"img\", {\n      src: this.iconReverseCamera()\n    }))] : Object(_core_f86805ad_js__WEBPACK_IMPORTED_MODULE_0__[/* h */ \"g\"])(\"section\", {\n      class: \"items\"\n    }, Object(_core_f86805ad_js__WEBPACK_IMPORTED_MODULE_0__[/* h */ \"g\"])(\"div\", {\n      class: \"item accept-cancel\",\n      onClick: function onClick(e) {\n        return _this.handleCancelPhoto(e);\n      }\n    }, Object(_core_f86805ad_js__WEBPACK_IMPORTED_MODULE_0__[/* h */ \"g\"])(\"img\", {\n      src: this.iconRetake()\n    })), Object(_core_f86805ad_js__WEBPACK_IMPORTED_MODULE_0__[/* h */ \"g\"])(\"div\", {\n      class: \"item accept-use\",\n      onClick: function onClick(e) {\n        return _this.handleAcceptPhoto(e);\n      }\n    }, Object(_core_f86805ad_js__WEBPACK_IMPORTED_MODULE_0__[/* h */ \"g\"])(\"img\", {\n      src: this.iconConfirm()\n    })))));\n  };\n\n  Object.defineProperty(class_1, \"assetsDirs\", {\n    get: function get() {\n      return [\"icons\"];\n    },\n    enumerable: true,\n    configurable: true\n  });\n  Object.defineProperty(class_1.prototype, \"el\", {\n    get: function get() {\n      return Object(_core_f86805ad_js__WEBPACK_IMPORTED_MODULE_0__[/* g */ \"f\"])(this);\n    },\n    enumerable: true,\n    configurable: true\n  });\n  Object.defineProperty(class_1, \"style\", {\n    get: function get() {\n      return \":host{--header-height:4em;--footer-height:9em;--header-height-landscape:3em;--footer-height-landscape:6em;--shutter-size:6em;--icon-size-header:1.5em;--icon-size-footer:2.5em;--margin-size-header:1.5em;--margin-size-footer:2.0em;font-family:-apple-system,BlinkMacSystemFont,“Segoe UI”,“Roboto”,“Droid Sans”,“Helvetica Neue”,sans-serif;display:block}.items,:host{width:100%;height:100%}.items{-webkit-box-sizing:border-box;box-sizing:border-box;display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center}.items .item{-ms-flex:1;flex:1;text-align:center}.items .item:first-child{text-align:left}.items .item:last-child{text-align:right}.camera-wrapper{position:relative;display:-ms-flexbox;display:flex;-ms-flex-direction:column;flex-direction:column;width:100%;height:100%}.camera-header{color:#fff;background-color:#000;height:var(--header-height)}.camera-header .items{padding:var(--margin-size-header)}.camera-footer{position:relative;color:#fff;background-color:#000;height:var(--footer-height)}.camera-footer .items{padding:var(--margin-size-footer)}\\@media (max-height:375px){.camera-header{--header-height:var(--header-height-landscape)}.camera-footer{--footer-height:var(--footer-height-landscape)}.camera-footer .shutter{--shutter-size:4em}}.camera-video{position:relative;-ms-flex:1;flex:1;overflow:hidden}.camera-video,video{background-color:#000}video{width:100%;height:100%;max-height:100%;min-height:100%;-o-object-fit:cover;object-fit:cover}.pick-image{display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;position:absolute;left:var(--margin-size-footer);top:0;height:100%;width:var(--icon-size-footer);color:#fff}.pick-image input{visibility:hidden}.pick-image svg{cursor:pointer;fill:#fff;width:var(--icon-size-footer);height:var(--icon-size-footer)}.shutter{position:absolute;left:50%;top:50%;width:var(--shutter-size);height:var(--shutter-size);margin-top:calc(var(--shutter-size) / -2);margin-left:calc(var(--shutter-size) / -2);border-radius:100%;background-color:#c6cdd8;padding:12px;-webkit-box-sizing:border-box;box-sizing:border-box}.shutter:active .shutter-button{background-color:#9da9bb}.shutter-button{background-color:#fff;border-radius:100%;width:100%;height:100%}.rotate{display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;position:absolute;right:var(--margin-size-footer);top:0;height:100%;color:#fff}.rotate,.rotate img{width:var(--icon-size-footer)}.rotate img{height:var(--icon-size-footer)}.shutter-overlay{z-index:5;position:absolute;width:100%;height:100%;background-color:#000}.error{width:100%;height:100%;-ms-flex-pack:center;-ms-flex-align:center}.error,.no-device{color:#fff;display:-ms-flexbox;display:flex;justify-content:center;align-items:center}.no-device{background-color:#000;-ms-flex:1;flex:1;-ms-flex-direction:column;flex-direction:column;-ms-flex-align:center;-ms-flex-pack:center}.no-device label{cursor:pointer;background:#fff;border-radius:6px;padding:6px 8px;color:#000}.no-device input{visibility:hidden;height:0;margin-top:16px}.accept{background-color:#000;-ms-flex:1;flex:1;overflow:hidden}.accept .accept-image{width:100%;height:100%;max-height:100%;background-position:50%;background-size:cover;background-repeat:no-repeat}.close img{cursor:pointer}.close img,.flash img{width:var(--icon-size-header);height:var(--icon-size-header)}.accept-cancel img,.accept-use img{width:var(--icon-size-footer);height:var(--icon-size-footer)}.offscreen-image-render{top:0;left:0;visibility:hidden;pointer-events:none;width:100%;height:100%}\";\n    },\n    enumerable: true,\n    configurable: true\n  });\n  return class_1;\n}();\n\n\n\n/***/ })\n\n}]);","inputSourceMap":{"version":3,"sources":["/home/gael/development/base-back-end/frontend/node_modules/@ionic/pwa-elements/dist/esm-es5/pwa-camera.entry.js"],"names":["__awaiter","thisArg","_arguments","P","generator","adopt","value","resolve","Promise","reject","fulfilled","step","next","e","rejected","result","done","then","apply","__generator","body","_","label","sent","t","trys","ops","f","y","g","verb","Symbol","iterator","n","v","op","TypeError","call","pop","length","push","ImageCapture","window","videoStreamTrack","_this","kind","DOMException","_videoStreamTrack","readyState","_previewStream","MediaStream","videoElement","document","createElement","videoElementPlaying","addEventListener","HTMLMediaElement","srcObject","src","URL","createObjectURL","muted","setAttribute","play","canvasElement","canvas2dContext","getContext","Object","defineProperty","prototype","get","enumerable","configurable","getPhotoCapabilities","executorGPC","MediaSettingsRange","current","min","max","exposureCompensation","exposureMode","fillLightMode","focusMode","imageHeight","imageWidth","iso","redEyeReduction","whiteBalanceMode","zoom","setOptions","_photoSettings","executorSO","_resolve","_reject","takePhoto","self","executorTP","width","videoWidth","height","videoHeight","drawImage","toBlob","error","grabFrame","executorGF","createImageBitmap","CameraPWA","class_1","hostRef","registerInstance","facingMode","noDevicesText","noDevicesButtonText","showShutterOverlay","flashIndex","hasCamera","rotation","deviceError","hasMultipleCameras","hasFlash","flashModes","flashMode","handlePickFile","_e","handleShutterClick","console","log","capture","handleRotateClick","rotate","handleClose","handlePhoto","handleFlashClick","cycleFlash","handleCancelPhoto","track","stream","getTracks","c","getConstraints","photo","initCamera","video","handleAcceptPhoto","handleFileInputChange","input","file","orientation","e_1","_a","target","files","getOrientation","photoOrientation","handleVideoMetadata","isServer","componentDidLoad","defaultConstraints","queryDevices","componentDidUnload","stopStream","photoSrc","revokeObjectURL","hasImageCapture","devices","videoDevices","e_2","navigator","mediaDevices","enumerateDevices","filter","d","constraints","e_3","getUserMedia","assign","audio","initStream","handleNoDeviceError","imageCapture","getVideoTracks","initPhotoCapabilities","el","forceUpdate","map","m","indexOf","forEach","stop","e_4","undefined","flashScreen","promptAccept","reader","FileReader","onload","event","view","DataView","getUint16","byteLength","offset","marker","getUint32","little","tags","i","readAsArrayBuffer","slice","c_1","getCapabilities","setFlashMode","mode","setTimeout","iconExit","iconPhotos","h","xmlns","viewBox","iconConfirm","iconReverseCamera","iconRetake","iconFlashOff","iconFlashOn","iconFlashAuto","render","acceptStyles","class","onClick","htmlFor","type","id","onChange","accept","style","backgroundImage","ref","onLoadedMetaData","autoplay","playsinline","offscreenCanvas","getElement"],"mappings":"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","file":"x","sourcesContent":["var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __generator = (this && this.__generator) || function (thisArg, body) {\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\n    function verb(n) { return function (v) { return step([n, v]); }; }\n    function step(op) {\n        if (f) throw new TypeError(\"Generator is already executing.\");\n        while (_) try {\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n            if (y = 0, t) op = [op[0] & 2, t.value];\n            switch (op[0]) {\n                case 0: case 1: t = op; break;\n                case 4: _.label++; return { value: op[1], done: false };\n                case 5: _.label++; y = op[1]; op = [0]; continue;\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\n                default:\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\n                    if (t[2]) _.ops.pop();\n                    _.trys.pop(); continue;\n            }\n            op = body.call(thisArg, _);\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\n    }\n};\nimport { r as registerInstance, d as getContext, h, g as getElement } from './core-f86805ad.js';\n/**\n * MediaStream ImageCapture polyfill\n *\n * @license\n * Copyright 2018 Google Inc.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nvar ImageCapture = window.ImageCapture;\nif (typeof ImageCapture === 'undefined') {\n    ImageCapture = /** @class */ (function () {\n        /**\n         * TODO https://www.w3.org/TR/image-capture/#constructors\n         *\n         * @param {MediaStreamTrack} videoStreamTrack - A MediaStreamTrack of the 'video' kind\n         */\n        function ImageCapture(videoStreamTrack) {\n            var _this = this;\n            if (videoStreamTrack.kind !== 'video')\n                throw new DOMException('NotSupportedError');\n            this._videoStreamTrack = videoStreamTrack;\n            if (!('readyState' in this._videoStreamTrack)) {\n                // Polyfill for Firefox\n                this._videoStreamTrack.readyState = 'live';\n            }\n            // MediaStream constructor not available until Chrome 55 - https://www.chromestatus.com/feature/5912172546752512\n            this._previewStream = new MediaStream([videoStreamTrack]);\n            this.videoElement = document.createElement('video');\n            this.videoElementPlaying = new Promise(function (resolve) {\n                _this.videoElement.addEventListener('playing', resolve);\n            });\n            if (HTMLMediaElement) {\n                this.videoElement.srcObject = this._previewStream; // Safari 11 doesn't allow use of createObjectURL for MediaStream\n            }\n            else {\n                this.videoElement.src = URL.createObjectURL(this._previewStream);\n            }\n            this.videoElement.muted = true;\n            this.videoElement.setAttribute('playsinline', ''); // Required by Safari on iOS 11. See https://webkit.org/blog/6784\n            this.videoElement.play();\n            this.canvasElement = document.createElement('canvas');\n            // TODO Firefox has https://developer.mozilla.org/en-US/docs/Web/API/OffscreenCanvas\n            this.canvas2dContext = this.canvasElement.getContext('2d');\n        }\n        Object.defineProperty(ImageCapture.prototype, \"videoStreamTrack\", {\n            /**\n             * https://w3c.github.io/mediacapture-image/index.html#dom-imagecapture-videostreamtrack\n             * @return {MediaStreamTrack} The MediaStreamTrack passed into the constructor\n             */\n            get: function () {\n                return this._videoStreamTrack;\n            },\n            enumerable: true,\n            configurable: true\n        });\n        /**\n         * Implements https://www.w3.org/TR/image-capture/#dom-imagecapture-getphotocapabilities\n         * @return {Promise<PhotoCapabilities>} Fulfilled promise with\n         * [PhotoCapabilities](https://www.w3.org/TR/image-capture/#idl-def-photocapabilities)\n         * object on success, rejected promise on failure\n         */\n        ImageCapture.prototype.getPhotoCapabilities = function () {\n            return new Promise(function executorGPC(resolve, reject) {\n                // TODO see https://github.com/w3c/mediacapture-image/issues/97\n                var MediaSettingsRange = {\n                    current: 0, min: 0, max: 0,\n                };\n                resolve({\n                    exposureCompensation: MediaSettingsRange,\n                    exposureMode: 'none',\n                    fillLightMode: ['none'],\n                    focusMode: 'none',\n                    imageHeight: MediaSettingsRange,\n                    imageWidth: MediaSettingsRange,\n                    iso: MediaSettingsRange,\n                    redEyeReduction: false,\n                    whiteBalanceMode: 'none',\n                    zoom: MediaSettingsRange,\n                });\n                reject(new DOMException('OperationError'));\n            });\n        };\n        /**\n         * Implements https://www.w3.org/TR/image-capture/#dom-imagecapture-setoptions\n         * @param {Object} photoSettings - Photo settings dictionary, https://www.w3.org/TR/image-capture/#idl-def-photosettings\n         * @return {Promise<void>} Fulfilled promise on success, rejected promise on failure\n         */\n        ImageCapture.prototype.setOptions = function (_photoSettings) {\n            if (_photoSettings === void 0) { _photoSettings = {}; }\n            return new Promise(function executorSO(_resolve, _reject) {\n                // TODO\n            });\n        };\n        /**\n         * TODO\n         * Implements https://www.w3.org/TR/image-capture/#dom-imagecapture-takephoto\n         * @return {Promise<Blob>} Fulfilled promise with [Blob](https://www.w3.org/TR/FileAPI/#blob)\n         * argument on success; rejected promise on failure\n         */\n        ImageCapture.prototype.takePhoto = function () {\n            var self = this;\n            return new Promise(function executorTP(resolve, reject) {\n                // `If the readyState of the MediaStreamTrack provided in the constructor is not live,\n                // return a promise rejected with a new DOMException whose name is \"InvalidStateError\".`\n                if (self._videoStreamTrack.readyState !== 'live') {\n                    return reject(new DOMException('InvalidStateError'));\n                }\n                self.videoElementPlaying.then(function () {\n                    try {\n                        self.canvasElement.width = self.videoElement.videoWidth;\n                        self.canvasElement.height = self.videoElement.videoHeight;\n                        self.canvas2dContext.drawImage(self.videoElement, 0, 0);\n                        self.canvasElement.toBlob(resolve);\n                    }\n                    catch (error) {\n                        reject(new DOMException('UnknownError'));\n                    }\n                });\n            });\n        };\n        /**\n         * Implements https://www.w3.org/TR/image-capture/#dom-imagecapture-grabframe\n         * @return {Promise<ImageBitmap>} Fulfilled promise with\n         * [ImageBitmap](https://www.w3.org/TR/html51/webappapis.html#webappapis-images)\n         * argument on success; rejected promise on failure\n         */\n        ImageCapture.prototype.grabFrame = function () {\n            var self = this;\n            return new Promise(function executorGF(resolve, reject) {\n                // `If the readyState of the MediaStreamTrack provided in the constructor is not live,\n                // return a promise rejected with a new DOMException whose name is \"InvalidStateError\".`\n                if (self._videoStreamTrack.readyState !== 'live') {\n                    return reject(new DOMException('InvalidStateError'));\n                }\n                self.videoElementPlaying.then(function () {\n                    try {\n                        self.canvasElement.width = self.videoElement.videoWidth;\n                        self.canvasElement.height = self.videoElement.videoHeight;\n                        self.canvas2dContext.drawImage(self.videoElement, 0, 0);\n                        // TODO polyfill https://developer.mozilla.org/en-US/docs/Web/API/ImageBitmapFactories/createImageBitmap for IE\n                        resolve(window.createImageBitmap(self.canvasElement));\n                    }\n                    catch (error) {\n                        reject(new DOMException('UnknownError'));\n                    }\n                });\n            });\n        };\n        return ImageCapture;\n    }());\n}\nwindow.ImageCapture = ImageCapture;\nvar CameraPWA = /** @class */ (function () {\n    function class_1(hostRef) {\n        var _this = this;\n        registerInstance(this, hostRef);\n        this.facingMode = 'user';\n        this.noDevicesText = 'No camera found';\n        this.noDevicesButtonText = 'Choose image';\n        this.showShutterOverlay = false;\n        this.flashIndex = 0;\n        this.hasCamera = null;\n        this.rotation = 0;\n        this.deviceError = null;\n        // Whether the device has multiple cameras (front/back)\n        this.hasMultipleCameras = false;\n        // Whether the device has flash support\n        this.hasFlash = false;\n        // Flash modes for camera\n        this.flashModes = [];\n        // Current flash mode\n        this.flashMode = 'off';\n        this.handlePickFile = function (_e) {\n        };\n        this.handleShutterClick = function (_e) {\n            console.log();\n            _this.capture();\n        };\n        this.handleRotateClick = function (_e) {\n            _this.rotate();\n        };\n        this.handleClose = function (_e) {\n            _this.handlePhoto && _this.handlePhoto(null);\n        };\n        this.handleFlashClick = function (_e) {\n            _this.cycleFlash();\n        };\n        this.handleCancelPhoto = function (_e) {\n            var track = _this.stream && _this.stream.getTracks()[0];\n            var c = track && track.getConstraints();\n            _this.photo = null;\n            if (c) {\n                _this.initCamera({\n                    video: {\n                        facingMode: c.facingMode\n                    }\n                });\n            }\n            else {\n                _this.initCamera();\n            }\n        };\n        this.handleAcceptPhoto = function (_e) {\n            _this.handlePhoto && _this.handlePhoto(_this.photo);\n        };\n        this.handleFileInputChange = function (e) { return __awaiter(_this, void 0, void 0, function () {\n            var input, file, orientation, e_1;\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0:\n                        input = e.target;\n                        file = input.files[0];\n                        _a.label = 1;\n                    case 1:\n                        _a.trys.push([1, 3, , 4]);\n                        return [4 /*yield*/, this.getOrientation(file)];\n                    case 2:\n                        orientation = _a.sent();\n                        console.log('Got orientation', orientation);\n                        this.photoOrientation = orientation;\n                        return [3 /*break*/, 4];\n                    case 3:\n                        e_1 = _a.sent();\n                        return [3 /*break*/, 4];\n                    case 4:\n                        this.handlePhoto && this.handlePhoto(file);\n                        return [2 /*return*/];\n                }\n            });\n        }); };\n        this.handleVideoMetadata = function (e) {\n            console.log('Video metadata', e);\n        };\n        this.isServer = getContext(this, \"isServer\");\n    }\n    class_1.prototype.componentDidLoad = function () {\n        return __awaiter(this, void 0, void 0, function () {\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0:\n                        if (this.isServer) {\n                            return [2 /*return*/];\n                        }\n                        this.defaultConstraints = {\n                            video: {\n                                facingMode: this.facingMode\n                            }\n                        };\n                        // Figure out how many cameras we have\n                        return [4 /*yield*/, this.queryDevices()];\n                    case 1:\n                        // Figure out how many cameras we have\n                        _a.sent();\n                        // Initialize the camera\n                        return [4 /*yield*/, this.initCamera()];\n                    case 2:\n                        // Initialize the camera\n                        _a.sent();\n                        return [2 /*return*/];\n                }\n            });\n        });\n    };\n    class_1.prototype.componentDidUnload = function () {\n        this.stopStream();\n        this.photoSrc && URL.revokeObjectURL(this.photoSrc);\n    };\n    class_1.prototype.hasImageCapture = function () {\n        return 'ImageCapture' in window;\n    };\n    /**\n     * Query the list of connected devices and figure out how many video inputs we have.\n     */\n    class_1.prototype.queryDevices = function () {\n        return __awaiter(this, void 0, void 0, function () {\n            var devices, videoDevices, e_2;\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0:\n                        _a.trys.push([0, 2, , 3]);\n                        return [4 /*yield*/, navigator.mediaDevices.enumerateDevices()];\n                    case 1:\n                        devices = _a.sent();\n                        videoDevices = devices.filter(function (d) { return d.kind == 'videoinput'; });\n                        this.hasCamera = !!videoDevices.length;\n                        this.hasMultipleCameras = videoDevices.length > 1;\n                        return [3 /*break*/, 3];\n                    case 2:\n                        e_2 = _a.sent();\n                        this.deviceError = e_2;\n                        return [3 /*break*/, 3];\n                    case 3: return [2 /*return*/];\n                }\n            });\n        });\n    };\n    class_1.prototype.initCamera = function (constraints) {\n        return __awaiter(this, void 0, void 0, function () {\n            var stream, e_3;\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0:\n                        if (!constraints) {\n                            constraints = this.defaultConstraints;\n                        }\n                        _a.label = 1;\n                    case 1:\n                        _a.trys.push([1, 3, , 4]);\n                        return [4 /*yield*/, navigator.mediaDevices.getUserMedia(Object.assign({ video: true, audio: false }, constraints))];\n                    case 2:\n                        stream = _a.sent();\n                        this.initStream(stream);\n                        return [3 /*break*/, 4];\n                    case 3:\n                        e_3 = _a.sent();\n                        this.deviceError = e_3;\n                        this.handleNoDeviceError && this.handleNoDeviceError(e_3);\n                        return [3 /*break*/, 4];\n                    case 4: return [2 /*return*/];\n                }\n            });\n        });\n    };\n    class_1.prototype.initStream = function (stream) {\n        return __awaiter(this, void 0, void 0, function () {\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0:\n                        this.stream = stream;\n                        this.videoElement.srcObject = stream;\n                        if (!this.hasImageCapture()) return [3 /*break*/, 2];\n                        this.imageCapture = new window.ImageCapture(stream.getVideoTracks()[0]);\n                        return [4 /*yield*/, this.initPhotoCapabilities(this.imageCapture)];\n                    case 1:\n                        _a.sent();\n                        return [3 /*break*/, 3];\n                    case 2:\n                        this.deviceError = 'No image capture';\n                        this.handleNoDeviceError && this.handleNoDeviceError();\n                        _a.label = 3;\n                    case 3:\n                        // Always re-render\n                        this.el.forceUpdate();\n                        return [2 /*return*/];\n                }\n            });\n        });\n    };\n    class_1.prototype.initPhotoCapabilities = function (imageCapture) {\n        return __awaiter(this, void 0, void 0, function () {\n            var c;\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0: return [4 /*yield*/, imageCapture.getPhotoCapabilities()];\n                    case 1:\n                        c = _a.sent();\n                        if (c.fillLightMode && c.fillLightMode.length > 1) {\n                            this.flashModes = c.fillLightMode.map(function (m) { return m; });\n                            // Try to recall the current flash mode\n                            if (this.flashMode) {\n                                this.flashMode = this.flashModes[this.flashModes.indexOf(this.flashMode)] || 'off';\n                                this.flashIndex = this.flashModes.indexOf(this.flashMode) || 0;\n                            }\n                            else {\n                                this.flashIndex = 0;\n                            }\n                        }\n                        return [2 /*return*/];\n                }\n            });\n        });\n    };\n    class_1.prototype.stopStream = function () {\n        this.stream && this.stream.getTracks().forEach(function (track) { return track.stop(); });\n    };\n    class_1.prototype.capture = function () {\n        return __awaiter(this, void 0, void 0, function () {\n            var photo, e_4;\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0:\n                        if (!this.hasImageCapture()) return [3 /*break*/, 5];\n                        _a.label = 1;\n                    case 1:\n                        _a.trys.push([1, 4, , 5]);\n                        return [4 /*yield*/, this.imageCapture.takePhoto({\n                                fillLightMode: this.flashModes.length > 1 ? this.flashMode : undefined\n                            })];\n                    case 2:\n                        photo = _a.sent();\n                        return [4 /*yield*/, this.flashScreen()];\n                    case 3:\n                        _a.sent();\n                        this.promptAccept(photo);\n                        return [3 /*break*/, 5];\n                    case 4:\n                        e_4 = _a.sent();\n                        console.error('Unable to take photo!', e_4);\n                        return [3 /*break*/, 5];\n                    case 5:\n                        this.stopStream();\n                        return [2 /*return*/];\n                }\n            });\n        });\n    };\n    class_1.prototype.promptAccept = function (photo) {\n        return __awaiter(this, void 0, void 0, function () {\n            var orientation;\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0:\n                        this.photo = photo;\n                        return [4 /*yield*/, this.getOrientation(photo)];\n                    case 1:\n                        orientation = _a.sent();\n                        console.log('Got orientation', orientation);\n                        this.photoOrientation = orientation;\n                        if (orientation) {\n                            switch (orientation) {\n                                case 1:\n                                case 2:\n                                    this.rotation = 0;\n                                    break;\n                                case 3:\n                                case 4:\n                                    this.rotation = 180;\n                                    break;\n                                case 5:\n                                case 6:\n                                    this.rotation = 90;\n                                    break;\n                                case 7:\n                                case 8:\n                                    this.rotation = 270;\n                                    break;\n                            }\n                        }\n                        this.photoSrc = URL.createObjectURL(photo);\n                        return [2 /*return*/];\n                }\n            });\n        });\n    };\n    class_1.prototype.getOrientation = function (file) {\n        return new Promise(function (resolve) {\n            var reader = new FileReader();\n            reader.onload = function (event) {\n                var view = new DataView(event.target.result);\n                if (view.getUint16(0, false) !== 0xFFD8) {\n                    return resolve(-2);\n                }\n                var length = view.byteLength;\n                var offset = 2;\n                while (offset < length) {\n                    var marker = view.getUint16(offset, false);\n                    offset += 2;\n                    if (marker === 0xFFE1) {\n                        if (view.getUint32(offset += 2, false) !== 0x45786966) {\n                            return resolve(-1);\n                        }\n                        var little = view.getUint16(offset += 6, false) === 0x4949;\n                        offset += view.getUint32(offset + 4, little);\n                        var tags = view.getUint16(offset, little);\n                        offset += 2;\n                        for (var i = 0; i < tags; i++) {\n                            if (view.getUint16(offset + (i * 12), little) === 0x0112) {\n                                return resolve(view.getUint16(offset + (i * 12) + 8, little));\n                            }\n                        }\n                    }\n                    else if ((marker & 0xFF00) !== 0xFF00) {\n                        break;\n                    }\n                    else {\n                        offset += view.getUint16(offset, false);\n                    }\n                }\n                return resolve(-1);\n            };\n            reader.readAsArrayBuffer(file.slice(0, 64 * 1024));\n        });\n    };\n    class_1.prototype.rotate = function () {\n        this.stopStream();\n        var track = this.stream && this.stream.getTracks()[0];\n        if (!track) {\n            return;\n        }\n        var c = track.getConstraints();\n        var facingMode = c.facingMode;\n        if (!facingMode) {\n            var c_1 = track.getCapabilities();\n            facingMode = c_1.facingMode[0];\n        }\n        if (facingMode === 'environment') {\n            this.initCamera({\n                video: {\n                    facingMode: 'user'\n                }\n            });\n        }\n        else {\n            this.initCamera({\n                video: {\n                    facingMode: 'environment'\n                }\n            });\n        }\n    };\n    class_1.prototype.setFlashMode = function (mode) {\n        console.log('New flash mode: ', mode);\n        this.flashMode = mode;\n    };\n    class_1.prototype.cycleFlash = function () {\n        if (this.flashModes.length > 0) {\n            this.flashIndex = (this.flashIndex + 1) % this.flashModes.length;\n            this.setFlashMode(this.flashModes[this.flashIndex]);\n        }\n    };\n    class_1.prototype.flashScreen = function () {\n        return __awaiter(this, void 0, void 0, function () {\n            var _this = this;\n            return __generator(this, function (_a) {\n                return [2 /*return*/, new Promise(function (resolve, _reject) {\n                        _this.showShutterOverlay = true;\n                        setTimeout(function () {\n                            _this.showShutterOverlay = false;\n                            resolve();\n                        }, 100);\n                    })];\n            });\n        });\n    };\n    class_1.prototype.iconExit = function () {\n        return \"data:image/svg+xml,%3Csvg version='1.1' id='Layer_1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' x='0px' y='0px' viewBox='0 0 512 512' enable-background='new 0 0 512 512' xml:space='preserve'%3E%3Cg id='Icon_5_'%3E%3Cg%3E%3Cpath fill='%23FFFFFF' d='M402.2,134L378,109.8c-1.6-1.6-4.1-1.6-5.7,0L258.8,223.4c-1.6,1.6-4.1,1.6-5.7,0L139.6,109.8 c-1.6-1.6-4.1-1.6-5.7,0L109.8,134c-1.6,1.6-1.6,4.1,0,5.7l113.5,113.5c1.6,1.6,1.6,4.1,0,5.7L109.8,372.4c-1.6,1.6-1.6,4.1,0,5.7 l24.1,24.1c1.6,1.6,4.1,1.6,5.7,0l113.5-113.5c1.6-1.6,4.1-1.6,5.7,0l113.5,113.5c1.6,1.6,4.1,1.6,5.7,0l24.1-24.1 c1.6-1.6,1.6-4.1,0-5.7L288.6,258.8c-1.6-1.6-1.6-4.1,0-5.7l113.5-113.5C403.7,138.1,403.7,135.5,402.2,134z'/%3E%3C/g%3E%3C/g%3E%3C/svg%3E\";\n    };\n    class_1.prototype.iconPhotos = function () {\n        return (h(\"svg\", { xmlns: 'http://www.w3.org/2000/svg', width: '512', height: '512', viewBox: '0 0 512 512' }, h(\"title\", null, \"ionicons-v5-e\"), h(\"path\", { d: 'M450.29,112H142c-34,0-62,27.51-62,61.33V418.67C80,452.49,108,480,142,480H450c34,0,62-26.18,62-60V173.33C512,139.51,484.32,112,450.29,112Zm-77.15,61.34a46,46,0,1,1-46.28,46A46.19,46.19,0,0,1,373.14,173.33Zm-231.55,276c-17,0-29.86-13.75-29.86-30.66V353.85l90.46-80.79a46.54,46.54,0,0,1,63.44,1.83L328.27,337l-113,112.33ZM480,418.67a30.67,30.67,0,0,1-30.71,30.66H259L376.08,333a46.24,46.24,0,0,1,59.44-.16L480,370.59Z' }), h(\"path\", { d: 'M384,32H64A64,64,0,0,0,0,96V352a64.11,64.11,0,0,0,48,62V152a72,72,0,0,1,72-72H446A64.11,64.11,0,0,0,384,32Z' })));\n    };\n    class_1.prototype.iconConfirm = function () {\n        return \"data:image/svg+xml,%3Csvg version='1.1' id='Layer_1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' x='0px' y='0px' viewBox='0 0 512 512' enable-background='new 0 0 512 512' xml:space='preserve'%3E%3Ccircle fill='%232CD865' cx='256' cy='256' r='256'/%3E%3Cg id='Icon_1_'%3E%3Cg%3E%3Cg%3E%3Cpath fill='%23FFFFFF' d='M208,301.4l-55.4-55.5c-1.5-1.5-4-1.6-5.6-0.1l-23.4,22.3c-1.6,1.6-1.7,4.1-0.1,5.7l81.6,81.4 c3.1,3.1,8.2,3.1,11.3,0l171.8-171.7c1.6-1.6,1.6-4.2-0.1-5.7l-23.4-22.3c-1.6-1.5-4.1-1.5-5.6,0.1L213.7,301.4 C212.1,303,209.6,303,208,301.4z'/%3E%3C/g%3E%3C/g%3E%3C/g%3E%3C/svg%3E\";\n    };\n    class_1.prototype.iconReverseCamera = function () {\n        return \"data:image/svg+xml,%3Csvg version='1.1' id='Layer_1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' x='0px' y='0px' viewBox='0 0 512 512' enable-background='new 0 0 512 512' xml:space='preserve'%3E%3Cg%3E%3Cpath fill='%23FFFFFF' d='M352,0H160C72,0,0,72,0,160v192c0,88,72,160,160,160h192c88,0,160-72,160-160V160C512,72,440,0,352,0z M356.7,365.8l-3.7,3.3c-27,23.2-61.4,35.9-96.8,35.9c-72.4,0-135.8-54.7-147-125.6c-0.3-1.9-2-3.3-3.9-3.3H64 c-3.3,0-5.2-3.8-3.2-6.4l61.1-81.4c1.6-2.1,4.7-2.1,6.4-0.1l63.3,81.4c2,2.6,0.2,6.5-3.2,6.5h-40.6c-2.5,0-4.5,2.4-3.9,4.8 c11.5,51.5,59.2,90.6,112.4,90.6c26.4,0,51.8-9.7,73.7-27.9l3.1-2.5c1.6-1.3,3.9-1.1,5.3,0.3l18.5,18.6 C358.5,361.6,358.4,364.3,356.7,365.8z M451.4,245.6l-61,83.5c-1.6,2.2-4.8,2.2-6.4,0.1l-63.3-83.3c-2-2.6-0.1-6.4,3.2-6.4h40.8 c2.5,0,4.4-2.3,3.9-4.8c-5.1-24.2-17.8-46.5-36.5-63.7c-21.2-19.4-48.2-30.1-76-30.1c-26.5,0-52.6,9.7-73.7,27.3l-3.1,2.5 c-1.6,1.3-3.9,1.2-5.4-0.3l-18.5-18.5c-1.6-1.6-1.5-4.3,0.2-5.9l3.5-3.1c27-23.2,61.4-35.9,96.8-35.9c38,0,73.9,13.7,101.2,38.7 c23.2,21.1,40.3,55.2,45.7,90.1c0.3,1.9,1.9,3.4,3.9,3.4h41.3C451.4,239.2,453.3,243,451.4,245.6z'/%3E%3C/g%3E%3C/svg%3E\";\n    };\n    class_1.prototype.iconRetake = function () {\n        return \"data:image/svg+xml,%3Csvg version='1.1' id='Layer_1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' x='0px' y='0px' viewBox='0 0 512 512' enable-background='new 0 0 512 512' xml:space='preserve'%3E%3Ccircle fill='%23727A87' cx='256' cy='256' r='256'/%3E%3Cg id='Icon_5_'%3E%3Cg%3E%3Cpath fill='%23FFFFFF' d='M394.2,142L370,117.8c-1.6-1.6-4.1-1.6-5.7,0L258.8,223.4c-1.6,1.6-4.1,1.6-5.7,0L147.6,117.8 c-1.6-1.6-4.1-1.6-5.7,0L117.8,142c-1.6,1.6-1.6,4.1,0,5.7l105.5,105.5c1.6,1.6,1.6,4.1,0,5.7L117.8,364.4c-1.6,1.6-1.6,4.1,0,5.7 l24.1,24.1c1.6,1.6,4.1,1.6,5.7,0l105.5-105.5c1.6-1.6,4.1-1.6,5.7,0l105.5,105.5c1.6,1.6,4.1,1.6,5.7,0l24.1-24.1 c1.6-1.6,1.6-4.1,0-5.7L288.6,258.8c-1.6-1.6-1.6-4.1,0-5.7l105.5-105.5C395.7,146.1,395.7,143.5,394.2,142z'/%3E%3C/g%3E%3C/g%3E%3C/svg%3E\";\n    };\n    class_1.prototype.iconFlashOff = function () {\n        return \"data:image/svg+xml,%3Csvg version='1.1' id='Layer_1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' x='0px' y='0px' viewBox='0 0 512 512' style='enable-background:new 0 0 512 512;' xml:space='preserve'%3E%3Cstyle type='text/css'%3E .st0%7Bfill:%23FFFFFF;%7D%0A%3C/style%3E%3Cg%3E%3Cpath class='st0' d='M498,483.7L42.3,28L14,56.4l149.8,149.8L91,293.8c-2.5,3-0.1,7.2,3.9,7.2h143.9c1.6,0,2.7,1.3,2.4,2.7 L197.6,507c-1,4.4,5.8,6.9,8.9,3.2l118.6-142.8L469.6,512L498,483.7z'/%3E%3Cpath class='st0' d='M449,218.2c2.5-3,0.1-7.2-3.9-7.2H301.2c-1.6,0-2.7-1.3-2.4-2.7L342.4,5c1-4.4-5.8-6.9-8.9-3.2L214.9,144.6 l161.3,161.3L449,218.2z'/%3E%3C/g%3E%3C/svg%3E\";\n    };\n    class_1.prototype.iconFlashOn = function () {\n        return \"data:image/svg+xml,%3Csvg version='1.1' id='Layer_1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' x='0px' y='0px' viewBox='0 0 512 512' style='enable-background:new 0 0 512 512;' xml:space='preserve'%3E%3Cstyle type='text/css'%3E .st0%7Bfill:%23FFFFFF;%7D%0A%3C/style%3E%3Cpath class='st0' d='M287.2,211c-1.6,0-2.7-1.3-2.4-2.7L328.4,5c1-4.4-5.8-6.9-8.9-3.2L77,293.8c-2.5,3-0.1,7.2,3.9,7.2h143.9 c1.6,0,2.7,1.3,2.4,2.7L183.6,507c-1,4.4,5.8,6.9,8.9,3.2l242.5-292c2.5-3,0.1-7.2-3.9-7.2L287.2,211L287.2,211z'/%3E%3C/svg%3E\";\n    };\n    class_1.prototype.iconFlashAuto = function () {\n        return \"data:image/svg+xml,%3Csvg version='1.1' id='Layer_1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' x='0px' y='0px' viewBox='0 0 512 512' style='enable-background:new 0 0 512 512;' xml:space='preserve'%3E%3Cstyle type='text/css'%3E .st0%7Bfill:%23FFFFFF;%7D%0A%3C/style%3E%3Cpath class='st0' d='M287.2,211c-1.6,0-2.7-1.3-2.4-2.7L328.4,5c1-4.4-5.8-6.9-8.9-3.2L77,293.8c-2.5,3-0.1,7.2,3.9,7.2h143.9 c1.6,0,2.7,1.3,2.4,2.7L183.6,507c-1,4.4,5.8,6.9,8.9,3.2l242.5-292c2.5-3,0.1-7.2-3.9-7.2L287.2,211L287.2,211z'/%3E%3Cg%3E%3Cpath class='st0' d='M321.3,186l74-186H438l74,186h-43.5l-11.9-32.5h-80.9l-12,32.5H321.3z M415.8,47.9l-27.2,70.7h54.9l-27.2-70.7 H415.8z'/%3E%3C/g%3E%3C/svg%3E\";\n    };\n    class_1.prototype.render = function () {\n        var _this = this;\n        // const acceptStyles = { transform: `rotate(${-this.rotation}deg)` };\n        var acceptStyles = {};\n        return (h(\"div\", { class: \"camera-wrapper\" }, h(\"div\", { class: \"camera-header\" }, h(\"section\", { class: \"items\" }, h(\"div\", { class: \"item close\", onClick: function (e) { return _this.handleClose(e); } }, h(\"img\", { src: this.iconExit() })), h(\"div\", { class: \"item flash\", onClick: function (e) { return _this.handleFlashClick(e); } }, this.flashModes.length > 0 && (h(\"div\", null, this.flashMode == 'off' ? h(\"img\", { src: this.iconFlashOff() }) : '', this.flashMode == 'auto' ? h(\"img\", { src: this.iconFlashAuto() }) : '', this.flashMode == 'flash' ? h(\"img\", { src: this.iconFlashOn() }) : ''))))), (this.hasCamera === false || !!this.deviceError) && (h(\"div\", { class: \"no-device\" }, h(\"h2\", null, this.noDevicesText), h(\"label\", { htmlFor: \"_pwa-elements-camera-input\" }, this.noDevicesButtonText), h(\"input\", { type: \"file\", id: \"_pwa-elements-camera-input\", onChange: this.handleFileInputChange, accept: \"image/*\", class: \"select-file-button\" }))), this.photo ? (h(\"div\", { class: \"accept\" }, h(\"div\", { class: \"accept-image\", style: Object.assign({ backgroundImage: \"url(\" + this.photoSrc + \")\" }, acceptStyles) }))) : (h(\"div\", { class: \"camera-video\" }, this.showShutterOverlay && (h(\"div\", { class: \"shutter-overlay\" })), this.hasImageCapture() ? (h(\"video\", { ref: function (el) { return _this.videoElement = el; }, onLoadedMetaData: this.handleVideoMetadata, autoplay: true, playsinline: true })) : (h(\"canvas\", { ref: function (el) { return _this.canvasElement = el; }, width: \"100%\", height: \"100%\" })), h(\"canvas\", { class: \"offscreen-image-render\", ref: function (e) { return _this.offscreenCanvas = e; }, width: \"100%\", height: \"100%\" }))), this.hasCamera && (h(\"div\", { class: \"camera-footer\" }, !this.photo ? ([\n            h(\"div\", { class: \"pick-image\", onClick: this.handlePickFile }, h(\"label\", { htmlFor: \"_pwa-elements-file-pick\" }, this.iconPhotos()), h(\"input\", { type: \"file\", id: \"_pwa-elements-file-pick\", onChange: this.handleFileInputChange, accept: \"image/*\", class: \"pick-image-button\" })),\n            h(\"div\", { class: \"shutter\", onClick: this.handleShutterClick }, h(\"div\", { class: \"shutter-button\" })),\n            h(\"div\", { class: \"rotate\", onClick: this.handleRotateClick }, h(\"img\", { src: this.iconReverseCamera() })),\n        ]) : (h(\"section\", { class: \"items\" }, h(\"div\", { class: \"item accept-cancel\", onClick: function (e) { return _this.handleCancelPhoto(e); } }, h(\"img\", { src: this.iconRetake() })), h(\"div\", { class: \"item accept-use\", onClick: function (e) { return _this.handleAcceptPhoto(e); } }, h(\"img\", { src: this.iconConfirm() }))))))));\n    };\n    Object.defineProperty(class_1, \"assetsDirs\", {\n        get: function () { return [\"icons\"]; },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(class_1.prototype, \"el\", {\n        get: function () { return getElement(this); },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(class_1, \"style\", {\n        get: function () { return \":host{--header-height:4em;--footer-height:9em;--header-height-landscape:3em;--footer-height-landscape:6em;--shutter-size:6em;--icon-size-header:1.5em;--icon-size-footer:2.5em;--margin-size-header:1.5em;--margin-size-footer:2.0em;font-family:-apple-system,BlinkMacSystemFont,“Segoe UI”,“Roboto”,“Droid Sans”,“Helvetica Neue”,sans-serif;display:block}.items,:host{width:100%;height:100%}.items{-webkit-box-sizing:border-box;box-sizing:border-box;display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center}.items .item{-ms-flex:1;flex:1;text-align:center}.items .item:first-child{text-align:left}.items .item:last-child{text-align:right}.camera-wrapper{position:relative;display:-ms-flexbox;display:flex;-ms-flex-direction:column;flex-direction:column;width:100%;height:100%}.camera-header{color:#fff;background-color:#000;height:var(--header-height)}.camera-header .items{padding:var(--margin-size-header)}.camera-footer{position:relative;color:#fff;background-color:#000;height:var(--footer-height)}.camera-footer .items{padding:var(--margin-size-footer)}\\@media (max-height:375px){.camera-header{--header-height:var(--header-height-landscape)}.camera-footer{--footer-height:var(--footer-height-landscape)}.camera-footer .shutter{--shutter-size:4em}}.camera-video{position:relative;-ms-flex:1;flex:1;overflow:hidden}.camera-video,video{background-color:#000}video{width:100%;height:100%;max-height:100%;min-height:100%;-o-object-fit:cover;object-fit:cover}.pick-image{display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;position:absolute;left:var(--margin-size-footer);top:0;height:100%;width:var(--icon-size-footer);color:#fff}.pick-image input{visibility:hidden}.pick-image svg{cursor:pointer;fill:#fff;width:var(--icon-size-footer);height:var(--icon-size-footer)}.shutter{position:absolute;left:50%;top:50%;width:var(--shutter-size);height:var(--shutter-size);margin-top:calc(var(--shutter-size) / -2);margin-left:calc(var(--shutter-size) / -2);border-radius:100%;background-color:#c6cdd8;padding:12px;-webkit-box-sizing:border-box;box-sizing:border-box}.shutter:active .shutter-button{background-color:#9da9bb}.shutter-button{background-color:#fff;border-radius:100%;width:100%;height:100%}.rotate{display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;position:absolute;right:var(--margin-size-footer);top:0;height:100%;color:#fff}.rotate,.rotate img{width:var(--icon-size-footer)}.rotate img{height:var(--icon-size-footer)}.shutter-overlay{z-index:5;position:absolute;width:100%;height:100%;background-color:#000}.error{width:100%;height:100%;-ms-flex-pack:center;-ms-flex-align:center}.error,.no-device{color:#fff;display:-ms-flexbox;display:flex;justify-content:center;align-items:center}.no-device{background-color:#000;-ms-flex:1;flex:1;-ms-flex-direction:column;flex-direction:column;-ms-flex-align:center;-ms-flex-pack:center}.no-device label{cursor:pointer;background:#fff;border-radius:6px;padding:6px 8px;color:#000}.no-device input{visibility:hidden;height:0;margin-top:16px}.accept{background-color:#000;-ms-flex:1;flex:1;overflow:hidden}.accept .accept-image{width:100%;height:100%;max-height:100%;background-position:50%;background-size:cover;background-repeat:no-repeat}.close img{cursor:pointer}.close img,.flash img{width:var(--icon-size-header);height:var(--icon-size-header)}.accept-cancel img,.accept-use img{width:var(--icon-size-footer);height:var(--icon-size-footer)}.offscreen-image-render{top:0;left:0;visibility:hidden;pointer-events:none;width:100%;height:100%}\"; },\n        enumerable: true,\n        configurable: true\n    });\n    return class_1;\n}());\nexport { CameraPWA as pwa_camera };\n"]}}